"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@convex-dev";
exports.ids = ["vendor-chunks/@convex-dev"];
exports.modules = {

/***/ "(action-browser)/./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invalidateCache: () => (/* binding */ invalidateCache)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(action-browser)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(action-browser)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"0051894c644856f719454f42f6786a3f936a00910a\":\"invalidateCache\"} */ \n\n\nasync function /*#__TURBOPACK_DISABLE_EXPORT_MERGING__*/ invalidateCache() {\n    // Dummy cookie, just to set the header which will invalidate\n    // the client Router Cache.\n    (await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)()).delete(`__convexAuthCookieForRouterCacheInvalidation${Date.now()}`);\n    return null;\n} //# sourceMappingURL=invalidateCache.js.map\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_3__.ensureServerEntryExports)([\n    invalidateCache\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(invalidateCache, \"0051894c644856f719454f42f6786a3f936a00910a\", null);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3QvbmV4dGpzL3NlcnZlci9pbnZhbGlkYXRlQ2FjaGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUV1QztBQUVoQyxLQUFLLGlEQUFVLEVBQWU7SUFDbkMsNkRBQTZEO0lBQzdELDJCQUEyQjtLQUMxQixNQUFNLHFEQUFPLEdBQUUsQ0FBQyxNQUFPLENBQ3RCLCtDQUErQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FDNUQsQ0FBQztJQUNGLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQzs7Ozs7MkZBUHFCIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL0RvY3VtZW50cy9zcmMvbmV4dGpzL3NlcnZlci9pbnZhbGlkYXRlQ2FjaGUudHMiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConvexAuthNextjsClientProvider: () => (/* binding */ ConvexAuthNextjsClientProvider)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");

const ConvexAuthNextjsClientProvider = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call ConvexAuthNextjsClientProvider() from the server but ConvexAuthNextjsClientProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/matthewsimon/Documents/Github/solopro/solopro/node_modules/@convex-dev/auth/dist/nextjs/client.js",
"ConvexAuthNextjsClientProvider",
);

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRequestCookies: () => (/* binding */ getRequestCookies),\n/* harmony export */   getRequestCookiesInMiddleware: () => (/* binding */ getRequestCookiesInMiddleware),\n/* harmony export */   getResponseCookies: () => (/* binding */ getResponseCookies)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _server_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server/utils.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/server/utils.js\");\n\n\nconst cookies = next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies;\nconst headers = next_headers__WEBPACK_IMPORTED_MODULE_0__.headers;\nasync function getRequestCookies() {\n    // maxAge doesn't matter for request cookies since they're only relevant for the\n    // length of the request\n    return getCookieStore(await headers(), await cookies(), {\n        maxAge: null,\n    });\n}\nasync function getRequestCookiesInMiddleware(request) {\n    // maxAge doesn't matter for request cookies since they're only relevant for the\n    // length of the request\n    return getCookieStore(await headers(), request.cookies, { maxAge: null });\n}\nasync function getResponseCookies(response, cookieConfig) {\n    return getCookieStore(await headers(), response.cookies, cookieConfig);\n}\nfunction getCookieStore(requestHeaders, responseCookies, cookieConfig) {\n    const isLocalhost = _server_utils_js__WEBPACK_IMPORTED_MODULE_1__.isLocalHost(requestHeaders.get(\"Host\") ?? \"\");\n    const prefix = isLocalhost ? \"\" : \"__Host-\";\n    const tokenName = prefix + \"__convexAuthJWT\";\n    const refreshTokenName = prefix + \"__convexAuthRefreshToken\";\n    const verifierName = prefix + \"__convexAuthOAuthVerifier\";\n    function getValue(name) {\n        return responseCookies.get(name)?.value ?? null;\n    }\n    const cookieOptions = getCookieOptions(isLocalhost, cookieConfig);\n    function setValue(name, value) {\n        if (value === null) {\n            // Only request cookies have a `size` property\n            if (\"size\" in responseCookies) {\n                responseCookies.delete(name);\n            }\n            else {\n                // See https://github.com/vercel/next.js/issues/56632\n                // for why .delete({}) doesn't work:\n                responseCookies.set(name, \"\", {\n                    ...cookieOptions,\n                    maxAge: undefined,\n                    expires: 0,\n                });\n            }\n        }\n        else {\n            responseCookies.set(name, value, cookieOptions);\n        }\n    }\n    return {\n        get token() {\n            return getValue(tokenName);\n        },\n        set token(value) {\n            setValue(tokenName, value);\n        },\n        get refreshToken() {\n            return getValue(refreshTokenName);\n        },\n        set refreshToken(value) {\n            setValue(refreshTokenName, value);\n        },\n        get verifier() {\n            return getValue(verifierName);\n        },\n        set verifier(value) {\n            setValue(verifierName, value);\n        },\n    };\n}\nfunction getCookieOptions(isLocalhost, cookieConfig) {\n    // Safari does not send headers with `secure: true` on http:// domains including localhost,\n    // so set `secure: false` (https://codedamn.com/news/web-development/safari-cookie-is-not-being-set)\n    return {\n        secure: isLocalhost ? false : true,\n        httpOnly: true,\n        sameSite: \"lax\",\n        path: \"/\",\n        maxAge: cookieConfig.maxAge ?? undefined,\n    };\n}\n//# sourceMappingURL=cookies.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvY29va2llcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4RTtBQUMvQjtBQUMvQyxnQkFBZ0IsaURBQVc7QUFDM0IsZ0JBQWdCLGlEQUFXO0FBQ3BCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQSw4REFBOEQsY0FBYztBQUM1RTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vRG9jdW1lbnRzL0dpdGh1Yi9zb2xvcHJvL3NvbG9wcm8vbm9kZV9tb2R1bGVzL0Bjb252ZXgtZGV2L2F1dGgvZGlzdC9uZXh0anMvc2VydmVyL2Nvb2tpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llcyBhcyBuZXh0Q29va2llcywgaGVhZGVycyBhcyBuZXh0SGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuLi8uLi9zZXJ2ZXIvdXRpbHMuanNcIjtcbmNvbnN0IGNvb2tpZXMgPSBuZXh0Q29va2llcztcbmNvbnN0IGhlYWRlcnMgPSBuZXh0SGVhZGVycztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXF1ZXN0Q29va2llcygpIHtcbiAgICAvLyBtYXhBZ2UgZG9lc24ndCBtYXR0ZXIgZm9yIHJlcXVlc3QgY29va2llcyBzaW5jZSB0aGV5J3JlIG9ubHkgcmVsZXZhbnQgZm9yIHRoZVxuICAgIC8vIGxlbmd0aCBvZiB0aGUgcmVxdWVzdFxuICAgIHJldHVybiBnZXRDb29raWVTdG9yZShhd2FpdCBoZWFkZXJzKCksIGF3YWl0IGNvb2tpZXMoKSwge1xuICAgICAgICBtYXhBZ2U6IG51bGwsXG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVxdWVzdENvb2tpZXNJbk1pZGRsZXdhcmUocmVxdWVzdCkge1xuICAgIC8vIG1heEFnZSBkb2Vzbid0IG1hdHRlciBmb3IgcmVxdWVzdCBjb29raWVzIHNpbmNlIHRoZXkncmUgb25seSByZWxldmFudCBmb3IgdGhlXG4gICAgLy8gbGVuZ3RoIG9mIHRoZSByZXF1ZXN0XG4gICAgcmV0dXJuIGdldENvb2tpZVN0b3JlKGF3YWl0IGhlYWRlcnMoKSwgcmVxdWVzdC5jb29raWVzLCB7IG1heEFnZTogbnVsbCB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXNwb25zZUNvb2tpZXMocmVzcG9uc2UsIGNvb2tpZUNvbmZpZykge1xuICAgIHJldHVybiBnZXRDb29raWVTdG9yZShhd2FpdCBoZWFkZXJzKCksIHJlc3BvbnNlLmNvb2tpZXMsIGNvb2tpZUNvbmZpZyk7XG59XG5mdW5jdGlvbiBnZXRDb29raWVTdG9yZShyZXF1ZXN0SGVhZGVycywgcmVzcG9uc2VDb29raWVzLCBjb29raWVDb25maWcpIHtcbiAgICBjb25zdCBpc0xvY2FsaG9zdCA9IHV0aWxzLmlzTG9jYWxIb3N0KHJlcXVlc3RIZWFkZXJzLmdldChcIkhvc3RcIikgPz8gXCJcIik7XG4gICAgY29uc3QgcHJlZml4ID0gaXNMb2NhbGhvc3QgPyBcIlwiIDogXCJfX0hvc3QtXCI7XG4gICAgY29uc3QgdG9rZW5OYW1lID0gcHJlZml4ICsgXCJfX2NvbnZleEF1dGhKV1RcIjtcbiAgICBjb25zdCByZWZyZXNoVG9rZW5OYW1lID0gcHJlZml4ICsgXCJfX2NvbnZleEF1dGhSZWZyZXNoVG9rZW5cIjtcbiAgICBjb25zdCB2ZXJpZmllck5hbWUgPSBwcmVmaXggKyBcIl9fY29udmV4QXV0aE9BdXRoVmVyaWZpZXJcIjtcbiAgICBmdW5jdGlvbiBnZXRWYWx1ZShuYW1lKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZUNvb2tpZXMuZ2V0KG5hbWUpPy52YWx1ZSA/PyBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb29raWVPcHRpb25zID0gZ2V0Q29va2llT3B0aW9ucyhpc0xvY2FsaG9zdCwgY29va2llQ29uZmlnKTtcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgcmVxdWVzdCBjb29raWVzIGhhdmUgYSBgc2l6ZWAgcHJvcGVydHlcbiAgICAgICAgICAgIGlmIChcInNpemVcIiBpbiByZXNwb25zZUNvb2tpZXMpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUNvb2tpZXMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qcy9pc3N1ZXMvNTY2MzJcbiAgICAgICAgICAgICAgICAvLyBmb3Igd2h5IC5kZWxldGUoe30pIGRvZXNuJ3Qgd29yazpcbiAgICAgICAgICAgICAgICByZXNwb25zZUNvb2tpZXMuc2V0KG5hbWUsIFwiXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY29va2llT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbWF4QWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZUNvb2tpZXMuc2V0KG5hbWUsIHZhbHVlLCBjb29raWVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdG9rZW4oKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUodG9rZW5OYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHRva2VuKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZSh0b2tlbk5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHJlZnJlc2hUb2tlbigpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZShyZWZyZXNoVG9rZW5OYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHJlZnJlc2hUb2tlbih2YWx1ZSkge1xuICAgICAgICAgICAgc2V0VmFsdWUocmVmcmVzaFRva2VuTmFtZSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgdmVyaWZpZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUodmVyaWZpZXJOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IHZlcmlmaWVyKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZSh2ZXJpZmllck5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0Q29va2llT3B0aW9ucyhpc0xvY2FsaG9zdCwgY29va2llQ29uZmlnKSB7XG4gICAgLy8gU2FmYXJpIGRvZXMgbm90IHNlbmQgaGVhZGVycyB3aXRoIGBzZWN1cmU6IHRydWVgIG9uIGh0dHA6Ly8gZG9tYWlucyBpbmNsdWRpbmcgbG9jYWxob3N0LFxuICAgIC8vIHNvIHNldCBgc2VjdXJlOiBmYWxzZWAgKGh0dHBzOi8vY29kZWRhbW4uY29tL25ld3Mvd2ViLWRldmVsb3BtZW50L3NhZmFyaS1jb29raWUtaXMtbm90LWJlaW5nLXNldClcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWN1cmU6IGlzTG9jYWxob3N0ID8gZmFsc2UgOiB0cnVlLFxuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICBtYXhBZ2U6IGNvb2tpZUNvbmZpZy5tYXhBZ2UgPz8gdW5kZWZpbmVkLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb29raWVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthNextjsServerProvider: () => (/* binding */ ConvexAuthNextjsServerProvider),\n/* harmony export */   convexAuthNextjsMiddleware: () => (/* binding */ convexAuthNextjsMiddleware),\n/* harmony export */   convexAuthNextjsToken: () => (/* binding */ convexAuthNextjsToken),\n/* harmony export */   createRouteMatcher: () => (/* reexport safe */ _routeMatcher_js__WEBPACK_IMPORTED_MODULE_9__.createRouteMatcher),\n/* harmony export */   isAuthenticatedNextjs: () => (/* binding */ isAuthenticatedNextjs),\n/* harmony export */   nextjsMiddlewareRedirect: () => (/* binding */ nextjsMiddlewareRedirect)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-runtime.js\");\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var convex_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! convex/nextjs */ \"(rsc)/./node_modules/convex/dist/esm/nextjs/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../client.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/client.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cookies.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js\");\n/* harmony import */ var _proxy_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./proxy.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/proxy.js\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./request.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/request.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js\");\n/* harmony import */ var _routeMatcher_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./routeMatcher.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/routeMatcher.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Wrap your app with this provider in your root `layout.tsx`.\n */\nasync function ConvexAuthNextjsServerProvider(props) {\n    const { apiRoute, storage, storageNamespace, verbose, children } = props;\n    const serverState = await convexAuthNextjsServerState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_client_js__WEBPACK_IMPORTED_MODULE_4__.ConvexAuthNextjsClientProvider, { serverState: serverState, apiRoute: apiRoute, storage: storage, storageNamespace: storageNamespace, verbose: verbose, children: children }));\n}\n/**\n * Retrieve the token for authenticating calls to your\n * Convex backend from Server Components, Server Actions and Route Handlers.\n * @returns The token if the client is authenticated, otherwise `undefined`.\n */\nasync function convexAuthNextjsToken() {\n    return (await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_5__.getRequestCookies)()).token ?? undefined;\n}\n/**\n * Whether the client is authenticated, which you can check\n * in Server Actions, Route Handlers and Middleware.\n *\n * Avoid the pitfall of checking authentication state in layouts,\n * since they won't stop nested pages from rendering.\n */\nasync function isAuthenticatedNextjs(options = {}) {\n    const cookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_5__.getRequestCookies)();\n    return isAuthenticated(cookies.token, options);\n}\n/**\n * Use in your `middleware.ts` to enable your Next.js app to use\n * Convex Auth for authentication on the server.\n *\n * @returns A Next.js middleware.\n */\nfunction convexAuthNextjsMiddleware(\n/**\n * A custom handler, which you can use to decide\n * which routes should be accessible based on the client's authentication.\n */\nhandler, options = {}) {\n    return async (request, event) => {\n        const verbose = options.verbose ?? false;\n        const cookieConfig = options.cookieConfig ?? { maxAge: null };\n        if (cookieConfig.maxAge !== null && cookieConfig.maxAge <= 0) {\n            throw new Error(\"cookieConfig.maxAge must be null or a positive number of seconds\");\n        }\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Begin middleware for request with URL ${request.url}`, verbose);\n        const requestUrl = new URL(request.url);\n        // Proxy signIn and signOut actions to Convex backend\n        const apiRoute = options?.apiRoute ?? \"/api/auth\";\n        if ((0,_proxy_js__WEBPACK_IMPORTED_MODULE_7__.shouldProxyAuthAction)(request, apiRoute)) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Proxying auth action to Convex, path matches ${apiRoute} with or without trailing slash`, verbose);\n            return await (0,_proxy_js__WEBPACK_IMPORTED_MODULE_7__.proxyAuthActionToConvex)(request, options);\n        }\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Not proxying auth action to Convex, path ${requestUrl.pathname} does not match ${apiRoute}`, verbose);\n        // Refresh tokens, handle code query param\n        const authResult = await (0,_request_js__WEBPACK_IMPORTED_MODULE_8__.handleAuthenticationInRequest)(request, options);\n        // If redirecting, proceed, the middleware will run again on next request\n        if (authResult.kind === \"redirect\") {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Redirecting to ${authResult.response.headers.get(\"Location\")}`, verbose);\n            return authResult.response;\n        }\n        let response = null;\n        // Forward cookies to request for custom handler\n        if (authResult.kind === \"refreshTokens\" &&\n            authResult.refreshTokens !== undefined) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Forwarding cookies to request`, verbose);\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setAuthCookiesInMiddleware)(request, authResult.refreshTokens);\n        }\n        if (handler === undefined) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`No custom handler`, verbose);\n            response = next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.next({\n                request: {\n                    headers: request.headers,\n                },\n            });\n        }\n        else {\n            // Call the custom handler\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.logVerbose)(`Calling custom handler`, verbose);\n            response =\n                (await handler(request, {\n                    event,\n                    convexAuth: {\n                        getToken: async () => {\n                            const cookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_5__.getRequestCookiesInMiddleware)(request);\n                            return cookies.token ?? undefined;\n                        },\n                        isAuthenticated: async () => {\n                            const cookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_5__.getRequestCookiesInMiddleware)(request);\n                            return isAuthenticated(cookies.token, options);\n                        },\n                    },\n                })) ??\n                    next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.next({\n                        request: {\n                            headers: request.headers,\n                        },\n                    });\n        }\n        // Port the cookies from the auth middleware to the response\n        if (authResult.kind === \"refreshTokens\" &&\n            authResult.refreshTokens !== undefined) {\n            const nextResponse = next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.next(response);\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setAuthCookies)(nextResponse, authResult.refreshTokens, cookieConfig);\n            return nextResponse;\n        }\n        return response;\n    };\n}\n\n/**\n * Helper for redirecting to a different route from\n * a Next.js middleware.\n *\n * ```ts\n * return nextjsMiddlewareRedirect(request, \"/login\");\n * ```\n */\nfunction nextjsMiddlewareRedirect(\n/**\n * The incoming request handled by the middleware.\n */\nrequest, \n/**\n * The route path to redirect to.\n */\npathname) {\n    const url = request.nextUrl.clone();\n    url.pathname = pathname;\n    return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.redirect(url);\n}\nasync function convexAuthNextjsServerState() {\n    const { token } = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_5__.getRequestCookies)();\n    return {\n        // The server doesn't share the refresh token with the client\n        // for added security - the client has to use the server\n        // to refresh the access token via cookies.\n        _state: { token, refreshToken: \"dummy\" },\n        _timeFetched: Date.now(),\n    };\n}\nasync function isAuthenticated(token, options) {\n    if (!token) {\n        return false;\n    }\n    try {\n        return await (0,convex_nextjs__WEBPACK_IMPORTED_MODULE_2__.fetchQuery)(\"auth:isAuthenticated\", {}, {\n            ...(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.getConvexNextjsOptions)(options),\n            token: token,\n        });\n    }\n    catch (e) {\n        if (e.message.includes(\"Could not find public function\")) {\n            throw new Error(\"Server Error: could not find api.auth.isAuthenticated. convex-auth 0.0.76 introduced a new export in convex/auth.ts. Add `isAuthenticated` to the list of functions returned from convexAuth(). See convex-auth changelog for more https://github.com/get-convex/convex-auth/blob/main/CHANGELOG.md\");\n        }\n        else {\n            console.log(\"Returning false from isAuthenticated because\", e);\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUMzQjtBQUNzQjtBQUNDO0FBQ21CO0FBQ2lCO0FBQ0o7QUFDZjtBQUNnRDtBQUM3RztBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVkseURBQXlEO0FBQ3JFO0FBQ0EsWUFBWSxzREFBSSxDQUFDLHNFQUE4QixJQUFJLDBJQUEwSTtBQUM3TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGtCQUFrQiw4REFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlEQUFpRDtBQUN4RCwwQkFBMEIsOERBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBVSwwQ0FBMEMsWUFBWTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFxQjtBQUNqQyxZQUFZLHFEQUFVLGlEQUFpRCxVQUFVO0FBQ2pGLHlCQUF5QixrRUFBdUI7QUFDaEQ7QUFDQSxRQUFRLHFEQUFVLDZDQUE2QyxxQkFBcUIsaUJBQWlCLFNBQVM7QUFDOUc7QUFDQSxpQ0FBaUMsMEVBQTZCO0FBQzlEO0FBQ0E7QUFDQSxZQUFZLHFEQUFVLG1CQUFtQiw0Q0FBNEM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVTtBQUN0QixrQkFBa0IscUVBQTBCO0FBQzVDO0FBQ0E7QUFDQSxZQUFZLHFEQUFVO0FBQ3RCLHVCQUF1QixxREFBWTtBQUNuQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsMEVBQTZCO0FBQy9FO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0Esa0RBQWtELDBFQUE2QjtBQUMvRTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLG9CQUFvQixxREFBWTtBQUNoQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxREFBWTtBQUM3QyxrQkFBa0IseURBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscURBQVk7QUFDdkI7QUFDQTtBQUNBLFlBQVksUUFBUSxRQUFRLDhEQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4QkFBOEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBVSwyQkFBMkI7QUFDMUQsZUFBZSxpRUFBc0I7QUFDckM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL0RvY3VtZW50cy9HaXRodWIvc29sb3Byby9zb2xvcHJvL25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3QvbmV4dGpzL3NlcnZlci9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IFwic2VydmVyLW9ubHlcIjtcbmltcG9ydCB7IGZldGNoUXVlcnkgfSBmcm9tIFwiY29udmV4L25leHRqc1wiO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlLCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgQ29udmV4QXV0aE5leHRqc0NsaWVudFByb3ZpZGVyLCB9IGZyb20gXCIuLi9jbGllbnQuanNcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RDb29raWVzLCBnZXRSZXF1ZXN0Q29va2llc0luTWlkZGxld2FyZSB9IGZyb20gXCIuL2Nvb2tpZXMuanNcIjtcbmltcG9ydCB7IHByb3h5QXV0aEFjdGlvblRvQ29udmV4LCBzaG91bGRQcm94eUF1dGhBY3Rpb24gfSBmcm9tIFwiLi9wcm94eS5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlQXV0aGVudGljYXRpb25JblJlcXVlc3QgfSBmcm9tIFwiLi9yZXF1ZXN0LmpzXCI7XG5pbXBvcnQgeyBsb2dWZXJib3NlLCBzZXRBdXRoQ29va2llcywgc2V0QXV0aENvb2tpZXNJbk1pZGRsZXdhcmUsIGdldENvbnZleE5leHRqc09wdGlvbnMsIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8qKlxuICogV3JhcCB5b3VyIGFwcCB3aXRoIHRoaXMgcHJvdmlkZXIgaW4geW91ciByb290IGBsYXlvdXQudHN4YC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIENvbnZleEF1dGhOZXh0anNTZXJ2ZXJQcm92aWRlcihwcm9wcykge1xuICAgIGNvbnN0IHsgYXBpUm91dGUsIHN0b3JhZ2UsIHN0b3JhZ2VOYW1lc3BhY2UsIHZlcmJvc2UsIGNoaWxkcmVuIH0gPSBwcm9wcztcbiAgICBjb25zdCBzZXJ2ZXJTdGF0ZSA9IGF3YWl0IGNvbnZleEF1dGhOZXh0anNTZXJ2ZXJTdGF0ZSgpO1xuICAgIHJldHVybiAoX2pzeChDb252ZXhBdXRoTmV4dGpzQ2xpZW50UHJvdmlkZXIsIHsgc2VydmVyU3RhdGU6IHNlcnZlclN0YXRlLCBhcGlSb3V0ZTogYXBpUm91dGUsIHN0b3JhZ2U6IHN0b3JhZ2UsIHN0b3JhZ2VOYW1lc3BhY2U6IHN0b3JhZ2VOYW1lc3BhY2UsIHZlcmJvc2U6IHZlcmJvc2UsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSB0b2tlbiBmb3IgYXV0aGVudGljYXRpbmcgY2FsbHMgdG8geW91clxuICogQ29udmV4IGJhY2tlbmQgZnJvbSBTZXJ2ZXIgQ29tcG9uZW50cywgU2VydmVyIEFjdGlvbnMgYW5kIFJvdXRlIEhhbmRsZXJzLlxuICogQHJldHVybnMgVGhlIHRva2VuIGlmIHRoZSBjbGllbnQgaXMgYXV0aGVudGljYXRlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmV4QXV0aE5leHRqc1Rva2VuKCkge1xuICAgIHJldHVybiAoYXdhaXQgZ2V0UmVxdWVzdENvb2tpZXMoKSkudG9rZW4gPz8gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBXaGV0aGVyIHRoZSBjbGllbnQgaXMgYXV0aGVudGljYXRlZCwgd2hpY2ggeW91IGNhbiBjaGVja1xuICogaW4gU2VydmVyIEFjdGlvbnMsIFJvdXRlIEhhbmRsZXJzIGFuZCBNaWRkbGV3YXJlLlxuICpcbiAqIEF2b2lkIHRoZSBwaXRmYWxsIG9mIGNoZWNraW5nIGF1dGhlbnRpY2F0aW9uIHN0YXRlIGluIGxheW91dHMsXG4gKiBzaW5jZSB0aGV5IHdvbid0IHN0b3AgbmVzdGVkIHBhZ2VzIGZyb20gcmVuZGVyaW5nLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkTmV4dGpzKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGNvb2tpZXMgPSBhd2FpdCBnZXRSZXF1ZXN0Q29va2llcygpO1xuICAgIHJldHVybiBpc0F1dGhlbnRpY2F0ZWQoY29va2llcy50b2tlbiwgb3B0aW9ucyk7XG59XG4vKipcbiAqIFVzZSBpbiB5b3VyIGBtaWRkbGV3YXJlLnRzYCB0byBlbmFibGUgeW91ciBOZXh0LmpzIGFwcCB0byB1c2VcbiAqIENvbnZleCBBdXRoIGZvciBhdXRoZW50aWNhdGlvbiBvbiB0aGUgc2VydmVyLlxuICpcbiAqIEByZXR1cm5zIEEgTmV4dC5qcyBtaWRkbGV3YXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmV4QXV0aE5leHRqc01pZGRsZXdhcmUoXG4vKipcbiAqIEEgY3VzdG9tIGhhbmRsZXIsIHdoaWNoIHlvdSBjYW4gdXNlIHRvIGRlY2lkZVxuICogd2hpY2ggcm91dGVzIHNob3VsZCBiZSBhY2Nlc3NpYmxlIGJhc2VkIG9uIHRoZSBjbGllbnQncyBhdXRoZW50aWNhdGlvbi5cbiAqL1xuaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGFzeW5jIChyZXF1ZXN0LCBldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB2ZXJib3NlID0gb3B0aW9ucy52ZXJib3NlID8/IGZhbHNlO1xuICAgICAgICBjb25zdCBjb29raWVDb25maWcgPSBvcHRpb25zLmNvb2tpZUNvbmZpZyA/PyB7IG1heEFnZTogbnVsbCB9O1xuICAgICAgICBpZiAoY29va2llQ29uZmlnLm1heEFnZSAhPT0gbnVsbCAmJiBjb29raWVDb25maWcubWF4QWdlIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvb2tpZUNvbmZpZy5tYXhBZ2UgbXVzdCBiZSBudWxsIG9yIGEgcG9zaXRpdmUgbnVtYmVyIG9mIHNlY29uZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgbG9nVmVyYm9zZShgQmVnaW4gbWlkZGxld2FyZSBmb3IgcmVxdWVzdCB3aXRoIFVSTCAke3JlcXVlc3QudXJsfWAsIHZlcmJvc2UpO1xuICAgICAgICBjb25zdCByZXF1ZXN0VXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIC8vIFByb3h5IHNpZ25JbiBhbmQgc2lnbk91dCBhY3Rpb25zIHRvIENvbnZleCBiYWNrZW5kXG4gICAgICAgIGNvbnN0IGFwaVJvdXRlID0gb3B0aW9ucz8uYXBpUm91dGUgPz8gXCIvYXBpL2F1dGhcIjtcbiAgICAgICAgaWYgKHNob3VsZFByb3h5QXV0aEFjdGlvbihyZXF1ZXN0LCBhcGlSb3V0ZSkpIHtcbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYFByb3h5aW5nIGF1dGggYWN0aW9uIHRvIENvbnZleCwgcGF0aCBtYXRjaGVzICR7YXBpUm91dGV9IHdpdGggb3Igd2l0aG91dCB0cmFpbGluZyBzbGFzaGAsIHZlcmJvc2UpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHByb3h5QXV0aEFjdGlvblRvQ29udmV4KHJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ1ZlcmJvc2UoYE5vdCBwcm94eWluZyBhdXRoIGFjdGlvbiB0byBDb252ZXgsIHBhdGggJHtyZXF1ZXN0VXJsLnBhdGhuYW1lfSBkb2VzIG5vdCBtYXRjaCAke2FwaVJvdXRlfWAsIHZlcmJvc2UpO1xuICAgICAgICAvLyBSZWZyZXNoIHRva2VucywgaGFuZGxlIGNvZGUgcXVlcnkgcGFyYW1cbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IGhhbmRsZUF1dGhlbnRpY2F0aW9uSW5SZXF1ZXN0KHJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAvLyBJZiByZWRpcmVjdGluZywgcHJvY2VlZCwgdGhlIG1pZGRsZXdhcmUgd2lsbCBydW4gYWdhaW4gb24gbmV4dCByZXF1ZXN0XG4gICAgICAgIGlmIChhdXRoUmVzdWx0LmtpbmQgPT09IFwicmVkaXJlY3RcIikge1xuICAgICAgICAgICAgbG9nVmVyYm9zZShgUmVkaXJlY3RpbmcgdG8gJHthdXRoUmVzdWx0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIil9YCwgdmVyYm9zZSk7XG4gICAgICAgICAgICByZXR1cm4gYXV0aFJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzcG9uc2UgPSBudWxsO1xuICAgICAgICAvLyBGb3J3YXJkIGNvb2tpZXMgdG8gcmVxdWVzdCBmb3IgY3VzdG9tIGhhbmRsZXJcbiAgICAgICAgaWYgKGF1dGhSZXN1bHQua2luZCA9PT0gXCJyZWZyZXNoVG9rZW5zXCIgJiZcbiAgICAgICAgICAgIGF1dGhSZXN1bHQucmVmcmVzaFRva2VucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dWZXJib3NlKGBGb3J3YXJkaW5nIGNvb2tpZXMgdG8gcmVxdWVzdGAsIHZlcmJvc2UpO1xuICAgICAgICAgICAgYXdhaXQgc2V0QXV0aENvb2tpZXNJbk1pZGRsZXdhcmUocmVxdWVzdCwgYXV0aFJlc3VsdC5yZWZyZXNoVG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dWZXJib3NlKGBObyBjdXN0b20gaGFuZGxlcmAsIHZlcmJvc2UpO1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UubmV4dCh7XG4gICAgICAgICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgY3VzdG9tIGhhbmRsZXJcbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYENhbGxpbmcgY3VzdG9tIGhhbmRsZXJgLCB2ZXJib3NlKTtcbiAgICAgICAgICAgIHJlc3BvbnNlID1cbiAgICAgICAgICAgICAgICAoYXdhaXQgaGFuZGxlcihyZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjb252ZXhBdXRoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRUb2tlbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZXMgPSBhd2FpdCBnZXRSZXF1ZXN0Q29va2llc0luTWlkZGxld2FyZShyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29va2llcy50b2tlbiA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llcyA9IGF3YWl0IGdldFJlcXVlc3RDb29raWVzSW5NaWRkbGV3YXJlKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0F1dGhlbnRpY2F0ZWQoY29va2llcy50b2tlbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pKSA/P1xuICAgICAgICAgICAgICAgICAgICBOZXh0UmVzcG9uc2UubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUG9ydCB0aGUgY29va2llcyBmcm9tIHRoZSBhdXRoIG1pZGRsZXdhcmUgdG8gdGhlIHJlc3BvbnNlXG4gICAgICAgIGlmIChhdXRoUmVzdWx0LmtpbmQgPT09IFwicmVmcmVzaFRva2Vuc1wiICYmXG4gICAgICAgICAgICBhdXRoUmVzdWx0LnJlZnJlc2hUb2tlbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgYXdhaXQgc2V0QXV0aENvb2tpZXMobmV4dFJlc3BvbnNlLCBhdXRoUmVzdWx0LnJlZnJlc2hUb2tlbnMsIGNvb2tpZUNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xufVxuZXhwb3J0IHsgY3JlYXRlUm91dGVNYXRjaGVyIH0gZnJvbSBcIi4vcm91dGVNYXRjaGVyLmpzXCI7XG4vKipcbiAqIEhlbHBlciBmb3IgcmVkaXJlY3RpbmcgdG8gYSBkaWZmZXJlbnQgcm91dGUgZnJvbVxuICogYSBOZXh0LmpzIG1pZGRsZXdhcmUuXG4gKlxuICogYGBgdHNcbiAqIHJldHVybiBuZXh0anNNaWRkbGV3YXJlUmVkaXJlY3QocmVxdWVzdCwgXCIvbG9naW5cIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5leHRqc01pZGRsZXdhcmVSZWRpcmVjdChcbi8qKlxuICogVGhlIGluY29taW5nIHJlcXVlc3QgaGFuZGxlZCBieSB0aGUgbWlkZGxld2FyZS5cbiAqL1xucmVxdWVzdCwgXG4vKipcbiAqIFRoZSByb3V0ZSBwYXRoIHRvIHJlZGlyZWN0IHRvLlxuICovXG5wYXRobmFtZSkge1xuICAgIGNvbnN0IHVybCA9IHJlcXVlc3QubmV4dFVybC5jbG9uZSgpO1xuICAgIHVybC5wYXRobmFtZSA9IHBhdGhuYW1lO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QodXJsKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbnZleEF1dGhOZXh0anNTZXJ2ZXJTdGF0ZSgpIHtcbiAgICBjb25zdCB7IHRva2VuIH0gPSBhd2FpdCBnZXRSZXF1ZXN0Q29va2llcygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIFRoZSBzZXJ2ZXIgZG9lc24ndCBzaGFyZSB0aGUgcmVmcmVzaCB0b2tlbiB3aXRoIHRoZSBjbGllbnRcbiAgICAgICAgLy8gZm9yIGFkZGVkIHNlY3VyaXR5IC0gdGhlIGNsaWVudCBoYXMgdG8gdXNlIHRoZSBzZXJ2ZXJcbiAgICAgICAgLy8gdG8gcmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuIHZpYSBjb29raWVzLlxuICAgICAgICBfc3RhdGU6IHsgdG9rZW4sIHJlZnJlc2hUb2tlbjogXCJkdW1teVwiIH0sXG4gICAgICAgIF90aW1lRmV0Y2hlZDogRGF0ZS5ub3coKSxcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHRva2VuLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBmZXRjaFF1ZXJ5KFwiYXV0aDppc0F1dGhlbnRpY2F0ZWRcIiwge30sIHtcbiAgICAgICAgICAgIC4uLmdldENvbnZleE5leHRqc09wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5tZXNzYWdlLmluY2x1ZGVzKFwiQ291bGQgbm90IGZpbmQgcHVibGljIGZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2ZXIgRXJyb3I6IGNvdWxkIG5vdCBmaW5kIGFwaS5hdXRoLmlzQXV0aGVudGljYXRlZC4gY29udmV4LWF1dGggMC4wLjc2IGludHJvZHVjZWQgYSBuZXcgZXhwb3J0IGluIGNvbnZleC9hdXRoLnRzLiBBZGQgYGlzQXV0aGVudGljYXRlZGAgdG8gdGhlIGxpc3Qgb2YgZnVuY3Rpb25zIHJldHVybmVkIGZyb20gY29udmV4QXV0aCgpLiBTZWUgY29udmV4LWF1dGggY2hhbmdlbG9nIGZvciBtb3JlIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXQtY29udmV4L2NvbnZleC1hdXRoL2Jsb2IvbWFpbi9DSEFOR0VMT0cubWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJldHVybmluZyBmYWxzZSBmcm9tIGlzQXV0aGVudGljYXRlZCBiZWNhdXNlXCIsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/proxy.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/proxy.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   proxyAuthActionToConvex: () => (/* binding */ proxyAuthActionToConvex),\n/* harmony export */   shouldProxyAuthAction: () => (/* binding */ shouldProxyAuthAction)\n/* harmony export */ });\n/* harmony import */ var server_only__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! server-only */ \"(rsc)/./node_modules/next/dist/compiled/server-only/empty.js\");\n/* harmony import */ var convex_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convex/nextjs */ \"(rsc)/./node_modules/convex/dist/esm/nextjs/index.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cookies.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js\");\n\n\n\n\nasync function proxyAuthActionToConvex(request, options) {\n    const cookieConfig = options?.cookieConfig ?? { maxAge: null };\n    const verbose = options?.verbose ?? false;\n    if (request.method !== \"POST\") {\n        return new Response(\"Invalid method\", { status: 405 });\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isCorsRequest)(request)) {\n        return new Response(\"Invalid origin\", { status: 403 });\n    }\n    const { action, args } = await request.json();\n    if (action !== \"auth:signIn\" && action !== \"auth:signOut\") {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(`Invalid action ${action}, returning 400`, verbose);\n        return new Response(\"Invalid action\", { status: 400 });\n    }\n    let token;\n    if (action === \"auth:signIn\" && args.refreshToken !== undefined) {\n        // The client has a dummy refreshToken, the real one is only\n        // stored in cookies.\n        const refreshToken = (await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_3__.getRequestCookies)()).refreshToken;\n        if (refreshToken === null) {\n            console.error(\"Convex Auth: Unexpected missing refreshToken cookie during client refresh\");\n            return new Response(JSON.stringify({ tokens: null }));\n        }\n        args.refreshToken = refreshToken;\n    }\n    else {\n        // Make sure the proxy is authenticated if the client is,\n        // important for signOut and any other logic working\n        // with existing sessions.\n        token = (await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_3__.getRequestCookies)()).token ?? undefined;\n    }\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(`Fetching action ${action} with args ${JSON.stringify({\n        ...args,\n        refreshToken: (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getRedactedMessage)(args?.refreshToken ?? \"\"),\n    })}`, verbose);\n    if (action === \"auth:signIn\") {\n        let result;\n        // Do not require auth when refreshing tokens or validating a code since they\n        // are steps in the auth flow.\n        const fetchActionAuthOptions = args.refreshToken !== undefined || args.params?.code !== undefined\n            ? {}\n            : { token };\n        try {\n            result = await (0,convex_nextjs__WEBPACK_IMPORTED_MODULE_1__.fetchAction)(action, args, {\n                ...(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getConvexNextjsOptions)(options),\n                ...fetchActionAuthOptions,\n            });\n        }\n        catch (error) {\n            console.error(`Hit error while running \\`auth:signIn\\`:`);\n            console.error(error);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(`Clearing auth cookies`, verbose);\n            const response = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.jsonResponse)(null);\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAuthCookies)(response, null, cookieConfig);\n            return response;\n        }\n        if (result.redirect !== undefined) {\n            const { redirect } = result;\n            const response = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.jsonResponse)({ redirect });\n            (await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_3__.getResponseCookies)(response, cookieConfig)).verifier =\n                result.verifier;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(`Redirecting to ${redirect}`, verbose);\n            return response;\n        }\n        else if (result.tokens !== undefined) {\n            // The server doesn't share the refresh token with the client\n            // for added security - the client has to use the server\n            // to refresh the access token via cookies.\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(result.tokens === null\n                ? `No tokens returned, clearing auth cookies`\n                : `Setting auth cookies with returned tokens`, verbose);\n            const response = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.jsonResponse)({\n                tokens: result.tokens !== null\n                    ? { token: result.tokens.token, refreshToken: \"dummy\" }\n                    : null,\n            });\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAuthCookies)(response, result.tokens, cookieConfig);\n            return response;\n        }\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.jsonResponse)(result);\n    }\n    else {\n        try {\n            await (0,convex_nextjs__WEBPACK_IMPORTED_MODULE_1__.fetchAction)(action, args, {\n                ...(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getConvexNextjsOptions)(options),\n                token,\n            });\n        }\n        catch (error) {\n            console.error(`Hit error while running \\`auth:signOut\\`:`);\n            console.error(error);\n        }\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.logVerbose)(`Clearing auth cookies`, verbose);\n        const response = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.jsonResponse)(null);\n        await (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.setAuthCookies)(response, null, cookieConfig);\n        return response;\n    }\n}\nfunction shouldProxyAuthAction(request, apiRoute) {\n    // Handle both with and without trailing slash since this could be configured either way.\n    // https://nextjs.org/docs/app/api-reference/next-config-js/trailingSlash\n    const requestUrl = new URL(request.url);\n    if (apiRoute.endsWith(\"/\")) {\n        return (requestUrl.pathname === apiRoute ||\n            requestUrl.pathname === apiRoute.slice(0, -1));\n    }\n    else {\n        return (requestUrl.pathname === apiRoute || requestUrl.pathname === apiRoute + \"/\");\n    }\n}\n//# sourceMappingURL=proxy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvcHJveHkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFCO0FBQ3VCO0FBQ3lCO0FBQzZEO0FBQzNIO0FBQ1Asb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQSxnREFBZ0QsYUFBYTtBQUM3RDtBQUNBLFFBQVEsd0RBQWE7QUFDckIsZ0RBQWdELGFBQWE7QUFDN0Q7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQSxRQUFRLHFEQUFVLG1CQUFtQixPQUFPO0FBQzVDLGdEQUFnRCxhQUFhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOERBQWlCO0FBQ3JEO0FBQ0E7QUFDQSxpREFBaUQsY0FBYztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4REFBaUI7QUFDeEM7QUFDQSxJQUFJLHFEQUFVLG9CQUFvQixRQUFRLFlBQVk7QUFDdEQ7QUFDQSxzQkFBc0IsNkRBQWtCO0FBQ3hDLEtBQUssRUFBRTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLDJCQUEyQiwwREFBVztBQUN0QyxtQkFBbUIsaUVBQXNCO0FBQ3pDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVTtBQUN0Qiw2QkFBNkIsdURBQVk7QUFDekMsa0JBQWtCLHlEQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CLDZCQUE2Qix1REFBWSxHQUFHLFVBQVU7QUFDdEQsbUJBQW1CLCtEQUFrQjtBQUNyQztBQUNBLFlBQVkscURBQVUsbUJBQW1CLFNBQVM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVTtBQUN0QjtBQUNBO0FBQ0EsNkJBQTZCLHVEQUFZO0FBQ3pDO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0EsYUFBYTtBQUNiLGtCQUFrQix5REFBYztBQUNoQztBQUNBO0FBQ0EsZUFBZSx1REFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMERBQVc7QUFDN0IsbUJBQW1CLGlFQUFzQjtBQUN6QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBVTtBQUNsQix5QkFBeUIsdURBQVk7QUFDckMsY0FBYyx5REFBYztBQUM1QjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Eb2N1bWVudHMvR2l0aHViL3NvbG9wcm8vc29sb3Byby9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvcHJveHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwic2VydmVyLW9ubHlcIjtcbmltcG9ydCB7IGZldGNoQWN0aW9uIH0gZnJvbSBcImNvbnZleC9uZXh0anNcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RDb29raWVzLCBnZXRSZXNwb25zZUNvb2tpZXMgfSBmcm9tIFwiLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgeyBnZXRDb252ZXhOZXh0anNPcHRpb25zLCBnZXRSZWRhY3RlZE1lc3NhZ2UsIGlzQ29yc1JlcXVlc3QsIGpzb25SZXNwb25zZSwgbG9nVmVyYm9zZSwgc2V0QXV0aENvb2tpZXMsIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm94eUF1dGhBY3Rpb25Ub0NvbnZleChyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgY29va2llQ29uZmlnID0gb3B0aW9ucz8uY29va2llQ29uZmlnID8/IHsgbWF4QWdlOiBudWxsIH07XG4gICAgY29uc3QgdmVyYm9zZSA9IG9wdGlvbnM/LnZlcmJvc2UgPz8gZmFsc2U7XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kICE9PSBcIlBPU1RcIikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiSW52YWxpZCBtZXRob2RcIiwgeyBzdGF0dXM6IDQwNSB9KTtcbiAgICB9XG4gICAgaWYgKGlzQ29yc1JlcXVlc3QocmVxdWVzdCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkludmFsaWQgb3JpZ2luXCIsIHsgc3RhdHVzOiA0MDMgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgYWN0aW9uLCBhcmdzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBpZiAoYWN0aW9uICE9PSBcImF1dGg6c2lnbkluXCIgJiYgYWN0aW9uICE9PSBcImF1dGg6c2lnbk91dFwiKSB7XG4gICAgICAgIGxvZ1ZlcmJvc2UoYEludmFsaWQgYWN0aW9uICR7YWN0aW9ufSwgcmV0dXJuaW5nIDQwMGAsIHZlcmJvc2UpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiSW52YWxpZCBhY3Rpb25cIiwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gICAgbGV0IHRva2VuO1xuICAgIGlmIChhY3Rpb24gPT09IFwiYXV0aDpzaWduSW5cIiAmJiBhcmdzLnJlZnJlc2hUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFRoZSBjbGllbnQgaGFzIGEgZHVtbXkgcmVmcmVzaFRva2VuLCB0aGUgcmVhbCBvbmUgaXMgb25seVxuICAgICAgICAvLyBzdG9yZWQgaW4gY29va2llcy5cbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gKGF3YWl0IGdldFJlcXVlc3RDb29raWVzKCkpLnJlZnJlc2hUb2tlbjtcbiAgICAgICAgaWYgKHJlZnJlc2hUb2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbnZleCBBdXRoOiBVbmV4cGVjdGVkIG1pc3NpbmcgcmVmcmVzaFRva2VuIGNvb2tpZSBkdXJpbmcgY2xpZW50IHJlZnJlc2hcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgdG9rZW5zOiBudWxsIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgcHJveHkgaXMgYXV0aGVudGljYXRlZCBpZiB0aGUgY2xpZW50IGlzLFxuICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIHNpZ25PdXQgYW5kIGFueSBvdGhlciBsb2dpYyB3b3JraW5nXG4gICAgICAgIC8vIHdpdGggZXhpc3Rpbmcgc2Vzc2lvbnMuXG4gICAgICAgIHRva2VuID0gKGF3YWl0IGdldFJlcXVlc3RDb29raWVzKCkpLnRva2VuID8/IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbG9nVmVyYm9zZShgRmV0Y2hpbmcgYWN0aW9uICR7YWN0aW9ufSB3aXRoIGFyZ3MgJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogZ2V0UmVkYWN0ZWRNZXNzYWdlKGFyZ3M/LnJlZnJlc2hUb2tlbiA/PyBcIlwiKSxcbiAgICB9KX1gLCB2ZXJib3NlKTtcbiAgICBpZiAoYWN0aW9uID09PSBcImF1dGg6c2lnbkluXCIpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgLy8gRG8gbm90IHJlcXVpcmUgYXV0aCB3aGVuIHJlZnJlc2hpbmcgdG9rZW5zIG9yIHZhbGlkYXRpbmcgYSBjb2RlIHNpbmNlIHRoZXlcbiAgICAgICAgLy8gYXJlIHN0ZXBzIGluIHRoZSBhdXRoIGZsb3cuXG4gICAgICAgIGNvbnN0IGZldGNoQWN0aW9uQXV0aE9wdGlvbnMgPSBhcmdzLnJlZnJlc2hUb2tlbiAhPT0gdW5kZWZpbmVkIHx8IGFyZ3MucGFyYW1zPy5jb2RlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogeyB0b2tlbiB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgZmV0Y2hBY3Rpb24oYWN0aW9uLCBhcmdzLCB7XG4gICAgICAgICAgICAgICAgLi4uZ2V0Q29udmV4TmV4dGpzT3B0aW9ucyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAuLi5mZXRjaEFjdGlvbkF1dGhPcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBIaXQgZXJyb3Igd2hpbGUgcnVubmluZyBcXGBhdXRoOnNpZ25JblxcYDpgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgbG9nVmVyYm9zZShgQ2xlYXJpbmcgYXV0aCBjb29raWVzYCwgdmVyYm9zZSk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZShudWxsKTtcbiAgICAgICAgICAgIGF3YWl0IHNldEF1dGhDb29raWVzKHJlc3BvbnNlLCBudWxsLCBjb29raWVDb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQucmVkaXJlY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeyByZWRpcmVjdCB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UoeyByZWRpcmVjdCB9KTtcbiAgICAgICAgICAgIChhd2FpdCBnZXRSZXNwb25zZUNvb2tpZXMocmVzcG9uc2UsIGNvb2tpZUNvbmZpZykpLnZlcmlmaWVyID1cbiAgICAgICAgICAgICAgICByZXN1bHQudmVyaWZpZXI7XG4gICAgICAgICAgICBsb2dWZXJib3NlKGBSZWRpcmVjdGluZyB0byAke3JlZGlyZWN0fWAsIHZlcmJvc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdC50b2tlbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVGhlIHNlcnZlciBkb2Vzbid0IHNoYXJlIHRoZSByZWZyZXNoIHRva2VuIHdpdGggdGhlIGNsaWVudFxuICAgICAgICAgICAgLy8gZm9yIGFkZGVkIHNlY3VyaXR5IC0gdGhlIGNsaWVudCBoYXMgdG8gdXNlIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgIC8vIHRvIHJlZnJlc2ggdGhlIGFjY2VzcyB0b2tlbiB2aWEgY29va2llcy5cbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UocmVzdWx0LnRva2VucyA9PT0gbnVsbFxuICAgICAgICAgICAgICAgID8gYE5vIHRva2VucyByZXR1cm5lZCwgY2xlYXJpbmcgYXV0aCBjb29raWVzYFxuICAgICAgICAgICAgICAgIDogYFNldHRpbmcgYXV0aCBjb29raWVzIHdpdGggcmV0dXJuZWQgdG9rZW5zYCwgdmVyYm9zZSk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGpzb25SZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgdG9rZW5zOiByZXN1bHQudG9rZW5zICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8geyB0b2tlbjogcmVzdWx0LnRva2Vucy50b2tlbiwgcmVmcmVzaFRva2VuOiBcImR1bW15XCIgfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHNldEF1dGhDb29raWVzKHJlc3BvbnNlLCByZXN1bHQudG9rZW5zLCBjb29raWVDb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uUmVzcG9uc2UocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBmZXRjaEFjdGlvbihhY3Rpb24sIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICAuLi5nZXRDb252ZXhOZXh0anNPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBIaXQgZXJyb3Igd2hpbGUgcnVubmluZyBcXGBhdXRoOnNpZ25PdXRcXGA6YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dWZXJib3NlKGBDbGVhcmluZyBhdXRoIGNvb2tpZXNgLCB2ZXJib3NlKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBqc29uUmVzcG9uc2UobnVsbCk7XG4gICAgICAgIGF3YWl0IHNldEF1dGhDb29raWVzKHJlc3BvbnNlLCBudWxsLCBjb29raWVDb25maWcpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFByb3h5QXV0aEFjdGlvbihyZXF1ZXN0LCBhcGlSb3V0ZSkge1xuICAgIC8vIEhhbmRsZSBib3RoIHdpdGggYW5kIHdpdGhvdXQgdHJhaWxpbmcgc2xhc2ggc2luY2UgdGhpcyBjb3VsZCBiZSBjb25maWd1cmVkIGVpdGhlciB3YXkuXG4gICAgLy8gaHR0cHM6Ly9uZXh0anMub3JnL2RvY3MvYXBwL2FwaS1yZWZlcmVuY2UvbmV4dC1jb25maWctanMvdHJhaWxpbmdTbGFzaFxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBpZiAoYXBpUm91dGUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiAocmVxdWVzdFVybC5wYXRobmFtZSA9PT0gYXBpUm91dGUgfHxcbiAgICAgICAgICAgIHJlcXVlc3RVcmwucGF0aG5hbWUgPT09IGFwaVJvdXRlLnNsaWNlKDAsIC0xKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKHJlcXVlc3RVcmwucGF0aG5hbWUgPT09IGFwaVJvdXRlIHx8IHJlcXVlc3RVcmwucGF0aG5hbWUgPT09IGFwaVJvdXRlICsgXCIvXCIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3h5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/proxy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/request.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/request.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleAuthenticationInRequest: () => (/* binding */ handleAuthenticationInRequest)\n/* harmony export */ });\n/* harmony import */ var convex_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! convex/nextjs */ \"(rsc)/./node_modules/convex/dist/esm/nextjs/index.js\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jwt-decode */ \"(rsc)/./node_modules/jwt-decode/build/esm/index.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cookies.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js\");\n\n\n\n\n\nasync function handleAuthenticationInRequest(request, options) {\n    const verbose = options.verbose ?? false;\n    const cookieConfig = options.cookieConfig ?? { maxAge: null };\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Begin handleAuthenticationInRequest`, verbose);\n    const requestUrl = new URL(request.url);\n    // Validate CORS\n    await validateCors(request);\n    // Refresh tokens if necessary\n    const refreshTokens = await getRefreshedTokens(options);\n    // Handle code exchange for OAuth and magic links via server-side redirect\n    const code = requestUrl.searchParams.get(\"code\");\n    if (code &&\n        request.method === \"GET\" &&\n        request.headers.get(\"accept\")?.includes(\"text/html\")) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Handling code exchange for OAuth or magic link`, verbose);\n        const verifier = (await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_4__.getRequestCookies)()).verifier ?? undefined;\n        const redirectUrl = new URL(requestUrl);\n        redirectUrl.searchParams.delete(\"code\");\n        try {\n            const result = await (0,convex_nextjs__WEBPACK_IMPORTED_MODULE_0__.fetchAction)(\"auth:signIn\", { params: { code }, verifier }, (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getConvexNextjsOptions)(options));\n            if (result.tokens === undefined) {\n                throw new Error(\"Invalid `signIn` action result for code exchange\");\n            }\n            const response = next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.redirect(redirectUrl);\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.setAuthCookies)(response, result.tokens, cookieConfig);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Successfully validated code, redirecting to ${redirectUrl.toString()} with auth cookies`, verbose);\n            return { kind: \"redirect\", response };\n        }\n        catch (error) {\n            console.error(error);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Error validating code, redirecting to ${redirectUrl.toString()} and clearing auth cookies`, verbose);\n            const response = next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.redirect(redirectUrl);\n            await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.setAuthCookies)(response, null, cookieConfig);\n            return { kind: \"redirect\", response };\n        }\n    }\n    return { kind: \"refreshTokens\", refreshTokens };\n}\n// If this is a cross-origin request with `Origin` header set\n// do not allow the app to read auth cookies.\nasync function validateCors(request) {\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isCorsRequest)(request)) {\n        const cookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_4__.getRequestCookiesInMiddleware)(request);\n        cookies.token = null;\n        cookies.refreshToken = null;\n        cookies.verifier = null;\n    }\n}\nconst REQUIRED_TOKEN_LIFETIME_MS = 60_000; // 1 minute\nconst MINIMUM_REQUIRED_TOKEN_LIFETIME_MS = 10_000; // 10 seconds\nasync function getRefreshedTokens(options) {\n    const verbose = options.verbose ?? false;\n    const cookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_4__.getRequestCookies)();\n    const { token, refreshToken } = cookies;\n    if (refreshToken === null && token === null) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`No tokens to refresh, returning undefined`, verbose);\n        return undefined;\n    }\n    if (refreshToken === null || token === null) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Refresh token null? ${refreshToken === null}, token null? ${token === null}, returning null`, verbose);\n        return null;\n    }\n    const decodedToken = decodeToken(token);\n    if (decodedToken === null) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Failed to decode token, returning null`, verbose);\n        return null;\n    }\n    const totalTokenLifetimeMs = decodedToken.exp * 1000 - decodedToken.iat * 1000;\n    // Check that the token is valid for the next 1 minute\n    // or at least 10% of its valid duration or 10 seconds\n    const minimumExpiration = Date.now() +\n        Math.min(REQUIRED_TOKEN_LIFETIME_MS, Math.max(MINIMUM_REQUIRED_TOKEN_LIFETIME_MS, totalTokenLifetimeMs / 10));\n    if (decodedToken.exp * 1000 > minimumExpiration) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Token expires far enough in the future, no need to refresh, returning undefined`, verbose);\n        return undefined;\n    }\n    try {\n        const result = await (0,convex_nextjs__WEBPACK_IMPORTED_MODULE_0__.fetchAction)(\"auth:signIn\", {\n            refreshToken,\n        }, (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getConvexNextjsOptions)(options));\n        if (result.tokens === undefined) {\n            throw new Error(\"Invalid `signIn` action result for token refresh\");\n        }\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Successfully refreshed tokens: is null? ${result.tokens === null}`, verbose);\n        return result.tokens;\n    }\n    catch (error) {\n        console.error(error);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.logVerbose)(`Failed to refresh tokens, returning null`, verbose);\n        return null;\n    }\n}\nfunction decodeToken(token) {\n    try {\n        return (0,jwt_decode__WEBPACK_IMPORTED_MODULE_1__.jwtDecode)(token);\n    }\n    catch (e) {\n        return null;\n    }\n}\n//# sourceMappingURL=request.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEM7QUFDTDtBQUNJO0FBQ3FDO0FBQ2dCO0FBQ3pGO0FBQ1A7QUFDQSxtREFBbUQ7QUFDbkQsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBVTtBQUNsQixnQ0FBZ0MsOERBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwREFBVyxrQkFBa0IsVUFBVSxNQUFNLFlBQVksRUFBRSxpRUFBc0I7QUFDbEg7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHFEQUFZO0FBQ3pDLGtCQUFrQix5REFBYztBQUNoQyxZQUFZLHFEQUFVLGdEQUFnRCx3QkFBd0I7QUFDOUYscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQVUsMENBQTBDLHdCQUF3QjtBQUN4Riw2QkFBNkIscURBQVk7QUFDekMsa0JBQWtCLHlEQUFjO0FBQ2hDLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3REFBYTtBQUNyQiw4QkFBOEIsMEVBQTZCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0MsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQSwwQkFBMEIsOERBQWlCO0FBQzNDLFlBQVksc0JBQXNCO0FBQ2xDO0FBQ0EsUUFBUSxxREFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFVLHdCQUF3QixzQkFBc0IsZ0JBQWdCLGVBQWU7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFVO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFVO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwREFBVztBQUN4QztBQUNBLFNBQVMsRUFBRSxpRUFBc0I7QUFDakM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBVSw0Q0FBNEMsdUJBQXVCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vRG9jdW1lbnRzL0dpdGh1Yi9zb2xvcHJvL3NvbG9wcm8vbm9kZV9tb2R1bGVzL0Bjb252ZXgtZGV2L2F1dGgvZGlzdC9uZXh0anMvc2VydmVyL3JlcXVlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmV0Y2hBY3Rpb24gfSBmcm9tIFwiY29udmV4L25leHRqc1wiO1xuaW1wb3J0IHsgand0RGVjb2RlIH0gZnJvbSBcImp3dC1kZWNvZGVcIjtcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdENvb2tpZXMsIGdldFJlcXVlc3RDb29raWVzSW5NaWRkbGV3YXJlIH0gZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IHsgZ2V0Q29udmV4TmV4dGpzT3B0aW9ucywgaXNDb3JzUmVxdWVzdCwgbG9nVmVyYm9zZSwgc2V0QXV0aENvb2tpZXMsIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVBdXRoZW50aWNhdGlvbkluUmVxdWVzdChyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdmVyYm9zZSA9IG9wdGlvbnMudmVyYm9zZSA/PyBmYWxzZTtcbiAgICBjb25zdCBjb29raWVDb25maWcgPSBvcHRpb25zLmNvb2tpZUNvbmZpZyA/PyB7IG1heEFnZTogbnVsbCB9O1xuICAgIGxvZ1ZlcmJvc2UoYEJlZ2luIGhhbmRsZUF1dGhlbnRpY2F0aW9uSW5SZXF1ZXN0YCwgdmVyYm9zZSk7XG4gICAgY29uc3QgcmVxdWVzdFVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIC8vIFZhbGlkYXRlIENPUlNcbiAgICBhd2FpdCB2YWxpZGF0ZUNvcnMocmVxdWVzdCk7XG4gICAgLy8gUmVmcmVzaCB0b2tlbnMgaWYgbmVjZXNzYXJ5XG4gICAgY29uc3QgcmVmcmVzaFRva2VucyA9IGF3YWl0IGdldFJlZnJlc2hlZFRva2VucyhvcHRpb25zKTtcbiAgICAvLyBIYW5kbGUgY29kZSBleGNoYW5nZSBmb3IgT0F1dGggYW5kIG1hZ2ljIGxpbmtzIHZpYSBzZXJ2ZXItc2lkZSByZWRpcmVjdFxuICAgIGNvbnN0IGNvZGUgPSByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJjb2RlXCIpO1xuICAgIGlmIChjb2RlICYmXG4gICAgICAgIHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoXCJhY2NlcHRcIik/LmluY2x1ZGVzKFwidGV4dC9odG1sXCIpKSB7XG4gICAgICAgIGxvZ1ZlcmJvc2UoYEhhbmRsaW5nIGNvZGUgZXhjaGFuZ2UgZm9yIE9BdXRoIG9yIG1hZ2ljIGxpbmtgLCB2ZXJib3NlKTtcbiAgICAgICAgY29uc3QgdmVyaWZpZXIgPSAoYXdhaXQgZ2V0UmVxdWVzdENvb2tpZXMoKSkudmVyaWZpZXIgPz8gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCByZWRpcmVjdFVybCA9IG5ldyBVUkwocmVxdWVzdFVybCk7XG4gICAgICAgIHJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJjb2RlXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmV0Y2hBY3Rpb24oXCJhdXRoOnNpZ25JblwiLCB7IHBhcmFtczogeyBjb2RlIH0sIHZlcmlmaWVyIH0sIGdldENvbnZleE5leHRqc09wdGlvbnMob3B0aW9ucykpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC50b2tlbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYHNpZ25JbmAgYWN0aW9uIHJlc3VsdCBmb3IgY29kZSBleGNoYW5nZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHJlZGlyZWN0VXJsKTtcbiAgICAgICAgICAgIGF3YWl0IHNldEF1dGhDb29raWVzKHJlc3BvbnNlLCByZXN1bHQudG9rZW5zLCBjb29raWVDb25maWcpO1xuICAgICAgICAgICAgbG9nVmVyYm9zZShgU3VjY2Vzc2Z1bGx5IHZhbGlkYXRlZCBjb2RlLCByZWRpcmVjdGluZyB0byAke3JlZGlyZWN0VXJsLnRvU3RyaW5nKCl9IHdpdGggYXV0aCBjb29raWVzYCwgdmVyYm9zZSk7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiBcInJlZGlyZWN0XCIsIHJlc3BvbnNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYEVycm9yIHZhbGlkYXRpbmcgY29kZSwgcmVkaXJlY3RpbmcgdG8gJHtyZWRpcmVjdFVybC50b1N0cmluZygpfSBhbmQgY2xlYXJpbmcgYXV0aCBjb29raWVzYCwgdmVyYm9zZSk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChyZWRpcmVjdFVybCk7XG4gICAgICAgICAgICBhd2FpdCBzZXRBdXRoQ29va2llcyhyZXNwb25zZSwgbnVsbCwgY29va2llQ29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiB7IGtpbmQ6IFwicmVkaXJlY3RcIiwgcmVzcG9uc2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBraW5kOiBcInJlZnJlc2hUb2tlbnNcIiwgcmVmcmVzaFRva2VucyB9O1xufVxuLy8gSWYgdGhpcyBpcyBhIGNyb3NzLW9yaWdpbiByZXF1ZXN0IHdpdGggYE9yaWdpbmAgaGVhZGVyIHNldFxuLy8gZG8gbm90IGFsbG93IHRoZSBhcHAgdG8gcmVhZCBhdXRoIGNvb2tpZXMuXG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUNvcnMocmVxdWVzdCkge1xuICAgIGlmIChpc0NvcnNSZXF1ZXN0KHJlcXVlc3QpKSB7XG4gICAgICAgIGNvbnN0IGNvb2tpZXMgPSBhd2FpdCBnZXRSZXF1ZXN0Q29va2llc0luTWlkZGxld2FyZShyZXF1ZXN0KTtcbiAgICAgICAgY29va2llcy50b2tlbiA9IG51bGw7XG4gICAgICAgIGNvb2tpZXMucmVmcmVzaFRva2VuID0gbnVsbDtcbiAgICAgICAgY29va2llcy52ZXJpZmllciA9IG51bGw7XG4gICAgfVxufVxuY29uc3QgUkVRVUlSRURfVE9LRU5fTElGRVRJTUVfTVMgPSA2MF8wMDA7IC8vIDEgbWludXRlXG5jb25zdCBNSU5JTVVNX1JFUVVJUkVEX1RPS0VOX0xJRkVUSU1FX01TID0gMTBfMDAwOyAvLyAxMCBzZWNvbmRzXG5hc3luYyBmdW5jdGlvbiBnZXRSZWZyZXNoZWRUb2tlbnMob3B0aW9ucykge1xuICAgIGNvbnN0IHZlcmJvc2UgPSBvcHRpb25zLnZlcmJvc2UgPz8gZmFsc2U7XG4gICAgY29uc3QgY29va2llcyA9IGF3YWl0IGdldFJlcXVlc3RDb29raWVzKCk7XG4gICAgY29uc3QgeyB0b2tlbiwgcmVmcmVzaFRva2VuIH0gPSBjb29raWVzO1xuICAgIGlmIChyZWZyZXNoVG9rZW4gPT09IG51bGwgJiYgdG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgbG9nVmVyYm9zZShgTm8gdG9rZW5zIHRvIHJlZnJlc2gsIHJldHVybmluZyB1bmRlZmluZWRgLCB2ZXJib3NlKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlZnJlc2hUb2tlbiA9PT0gbnVsbCB8fCB0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICBsb2dWZXJib3NlKGBSZWZyZXNoIHRva2VuIG51bGw/ICR7cmVmcmVzaFRva2VuID09PSBudWxsfSwgdG9rZW4gbnVsbD8gJHt0b2tlbiA9PT0gbnVsbH0sIHJldHVybmluZyBudWxsYCwgdmVyYm9zZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBkZWNvZGVkVG9rZW4gPSBkZWNvZGVUb2tlbih0b2tlbik7XG4gICAgaWYgKGRlY29kZWRUb2tlbiA9PT0gbnVsbCkge1xuICAgICAgICBsb2dWZXJib3NlKGBGYWlsZWQgdG8gZGVjb2RlIHRva2VuLCByZXR1cm5pbmcgbnVsbGAsIHZlcmJvc2UpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgdG90YWxUb2tlbkxpZmV0aW1lTXMgPSBkZWNvZGVkVG9rZW4uZXhwICogMTAwMCAtIGRlY29kZWRUb2tlbi5pYXQgKiAxMDAwO1xuICAgIC8vIENoZWNrIHRoYXQgdGhlIHRva2VuIGlzIHZhbGlkIGZvciB0aGUgbmV4dCAxIG1pbnV0ZVxuICAgIC8vIG9yIGF0IGxlYXN0IDEwJSBvZiBpdHMgdmFsaWQgZHVyYXRpb24gb3IgMTAgc2Vjb25kc1xuICAgIGNvbnN0IG1pbmltdW1FeHBpcmF0aW9uID0gRGF0ZS5ub3coKSArXG4gICAgICAgIE1hdGgubWluKFJFUVVJUkVEX1RPS0VOX0xJRkVUSU1FX01TLCBNYXRoLm1heChNSU5JTVVNX1JFUVVJUkVEX1RPS0VOX0xJRkVUSU1FX01TLCB0b3RhbFRva2VuTGlmZXRpbWVNcyAvIDEwKSk7XG4gICAgaWYgKGRlY29kZWRUb2tlbi5leHAgKiAxMDAwID4gbWluaW11bUV4cGlyYXRpb24pIHtcbiAgICAgICAgbG9nVmVyYm9zZShgVG9rZW4gZXhwaXJlcyBmYXIgZW5vdWdoIGluIHRoZSBmdXR1cmUsIG5vIG5lZWQgdG8gcmVmcmVzaCwgcmV0dXJuaW5nIHVuZGVmaW5lZGAsIHZlcmJvc2UpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaEFjdGlvbihcImF1dGg6c2lnbkluXCIsIHtcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgICAgfSwgZ2V0Q29udmV4TmV4dGpzT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICAgIGlmIChyZXN1bHQudG9rZW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYHNpZ25JbmAgYWN0aW9uIHJlc3VsdCBmb3IgdG9rZW4gcmVmcmVzaFwiKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dWZXJib3NlKGBTdWNjZXNzZnVsbHkgcmVmcmVzaGVkIHRva2VuczogaXMgbnVsbD8gJHtyZXN1bHQudG9rZW5zID09PSBudWxsfWAsIHZlcmJvc2UpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRva2VucztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICBsb2dWZXJib3NlKGBGYWlsZWQgdG8gcmVmcmVzaCB0b2tlbnMsIHJldHVybmluZyBudWxsYCwgdmVyYm9zZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlY29kZVRva2VuKHRva2VuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/routeMatcher.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/routeMatcher.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRouteMatcher: () => (/* binding */ createRouteMatcher)\n/* harmony export */ });\n/* harmony import */ var path_to_regexp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path-to-regexp */ \"(rsc)/./node_modules/path-to-regexp/dist.es2015/index.js\");\n// Adapted from Clerk\n//\n// MIT License\n//\n// Copyright (c) 2022 Clerk, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n/**\n * Returns a function that accepts a `Request` object and returns whether the request matches the list of\n * predefined routes that can be passed in as the first argument.\n *\n * You can use glob patterns to match multiple routes or a function to match against the request object.\n * Path patterns and limited regular expressions are supported.\n * For more information, see: https://www.npmjs.com/package/path-to-regexp/v/6.3.0\n */\nconst createRouteMatcher = (routes) => {\n    if (typeof routes === \"function\") {\n        return (req) => routes(req);\n    }\n    const routePatterns = [routes || \"\"].flat().filter(Boolean);\n    const matchers = precomputePathRegex(routePatterns);\n    return (req) => matchers.some((matcher) => matcher.test(req.nextUrl.pathname));\n};\nconst precomputePathRegex = (patterns) => {\n    return patterns.map((pattern) => pattern instanceof RegExp ? pattern : pathStringToRegExp(pattern));\n};\nfunction pathStringToRegExp(path) {\n    try {\n        return (0,path_to_regexp__WEBPACK_IMPORTED_MODULE_0__.pathToRegexp)(path);\n    }\n    catch (e) {\n        throw new Error(`Invalid path: ${path}.\\nConsult the documentation of path-to-regexp here: https://github.com/pillarjs/path-to-regexp\\n${e.message}`);\n    }\n}\n//# sourceMappingURL=routeMatcher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvcm91dGVNYXRjaGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFZO0FBQzNCO0FBQ0E7QUFDQSx5Q0FBeUMsS0FBSyxtR0FBbUcsVUFBVTtBQUMzSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vRG9jdW1lbnRzL0dpdGh1Yi9zb2xvcHJvL3NvbG9wcm8vbm9kZV9tb2R1bGVzL0Bjb252ZXgtZGV2L2F1dGgvZGlzdC9uZXh0anMvc2VydmVyL3JvdXRlTWF0Y2hlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGFwdGVkIGZyb20gQ2xlcmtcbi8vXG4vLyBNSVQgTGljZW5zZVxuLy9cbi8vIENvcHlyaWdodCAoYykgMjAyMiBDbGVyaywgSW5jLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbi8vIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuLy8gU09GVFdBUkUuXG5pbXBvcnQgeyBwYXRoVG9SZWdleHAgfSBmcm9tIFwicGF0aC10by1yZWdleHBcIjtcbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhIGBSZXF1ZXN0YCBvYmplY3QgYW5kIHJldHVybnMgd2hldGhlciB0aGUgcmVxdWVzdCBtYXRjaGVzIHRoZSBsaXN0IG9mXG4gKiBwcmVkZWZpbmVkIHJvdXRlcyB0aGF0IGNhbiBiZSBwYXNzZWQgaW4gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlxuICpcbiAqIFlvdSBjYW4gdXNlIGdsb2IgcGF0dGVybnMgdG8gbWF0Y2ggbXVsdGlwbGUgcm91dGVzIG9yIGEgZnVuY3Rpb24gdG8gbWF0Y2ggYWdhaW5zdCB0aGUgcmVxdWVzdCBvYmplY3QuXG4gKiBQYXRoIHBhdHRlcm5zIGFuZCBsaW1pdGVkIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHN1cHBvcnRlZC5cbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWU6IGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3BhdGgtdG8tcmVnZXhwL3YvNi4zLjBcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJvdXRlTWF0Y2hlciA9IChyb3V0ZXMpID0+IHtcbiAgICBpZiAodHlwZW9mIHJvdXRlcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiAocmVxKSA9PiByb3V0ZXMocmVxKTtcbiAgICB9XG4gICAgY29uc3Qgcm91dGVQYXR0ZXJucyA9IFtyb3V0ZXMgfHwgXCJcIl0uZmxhdCgpLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBtYXRjaGVycyA9IHByZWNvbXB1dGVQYXRoUmVnZXgocm91dGVQYXR0ZXJucyk7XG4gICAgcmV0dXJuIChyZXEpID0+IG1hdGNoZXJzLnNvbWUoKG1hdGNoZXIpID0+IG1hdGNoZXIudGVzdChyZXEubmV4dFVybC5wYXRobmFtZSkpO1xufTtcbmNvbnN0IHByZWNvbXB1dGVQYXRoUmVnZXggPSAocGF0dGVybnMpID0+IHtcbiAgICByZXR1cm4gcGF0dGVybnMubWFwKChwYXR0ZXJuKSA9PiBwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwID8gcGF0dGVybiA6IHBhdGhTdHJpbmdUb1JlZ0V4cChwYXR0ZXJuKSk7XG59O1xuZnVuY3Rpb24gcGF0aFN0cmluZ1RvUmVnRXhwKHBhdGgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcGF0aFRvUmVnZXhwKHBhdGgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcGF0aDogJHtwYXRofS5cXG5Db25zdWx0IHRoZSBkb2N1bWVudGF0aW9uIG9mIHBhdGgtdG8tcmVnZXhwIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waWxsYXJqcy9wYXRoLXRvLXJlZ2V4cFxcbiR7ZS5tZXNzYWdlfWApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlTWF0Y2hlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/routeMatcher.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getConvexNextjsOptions: () => (/* binding */ getConvexNextjsOptions),\n/* harmony export */   getRedactedMessage: () => (/* binding */ getRedactedMessage),\n/* harmony export */   isCorsRequest: () => (/* binding */ isCorsRequest),\n/* harmony export */   jsonResponse: () => (/* binding */ jsonResponse),\n/* harmony export */   logVerbose: () => (/* binding */ logVerbose),\n/* harmony export */   setAuthCookies: () => (/* binding */ setAuthCookies),\n/* harmony export */   setAuthCookiesInMiddleware: () => (/* binding */ setAuthCookiesInMiddleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _cookies_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cookies.js */ \"(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/cookies.js\");\n\n\nfunction jsonResponse(body) {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify(body), {\n        headers: { \"Content-Type\": \"application/json\" },\n    });\n}\nasync function setAuthCookies(response, tokens, cookieConfig) {\n    const responseCookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_1__.getResponseCookies)(response, cookieConfig);\n    if (tokens === null) {\n        responseCookies.token = null;\n        responseCookies.refreshToken = null;\n    }\n    else {\n        responseCookies.token = tokens.token;\n        responseCookies.refreshToken = tokens.refreshToken;\n    }\n    responseCookies.verifier = null;\n}\n/**\n * Forward on any auth cookies in the request to the next handler.\n *\n * @param request\n * @param tokens\n */\nasync function setAuthCookiesInMiddleware(request, tokens) {\n    const requestCookies = await (0,_cookies_js__WEBPACK_IMPORTED_MODULE_1__.getRequestCookiesInMiddleware)(request);\n    if (tokens === null) {\n        requestCookies.token = null;\n        requestCookies.refreshToken = null;\n    }\n    else {\n        requestCookies.token = tokens.token;\n        requestCookies.refreshToken = tokens.refreshToken;\n    }\n}\nfunction isCorsRequest(request) {\n    const origin = request.headers.get(\"Origin\");\n    const originURL = origin ? new URL(origin) : null;\n    return (originURL !== null &&\n        (originURL.host !== request.headers.get(\"Host\") ||\n            originURL.protocol !== new URL(request.url).protocol));\n}\nfunction logVerbose(message, verbose) {\n    if (verbose) {\n        console.debug(`[verbose] ${new Date().toISOString()} [ConvexAuthNextjs] ${message}`);\n    }\n}\nfunction getRedactedMessage(value) {\n    const length = 5;\n    if (value.length < length * 2) {\n        return \"<redacted>\";\n    }\n    return (value.substring(0, length) +\n        \"<redacted>\" +\n        value.substring(value.length - length));\n}\n/**\n * @param options - a subset of ConvexAuthNextjsMiddlewareOptions\n * @returns NextjsOptions\n */\nfunction getConvexNextjsOptions(options) {\n    // If `convexUrl` is provided (even if it's undefined), pass it as the `url` option.\n    // `convex/nextjs` has its own logic for falling back to `process.env.NEXT_PUBLIC_CONVEX_URL`\n    // and protecting against accidentally passing in `undefined` (e.g. { convexUrl: process.env.VAR_I_DIDNT_SET })\n    if (Object.hasOwn(options, \"convexUrl\")) {\n        return {\n            url: options.convexUrl,\n        };\n    }\n    return {};\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ3VDO0FBQzNFO0FBQ1AsZUFBZSxxREFBWTtBQUMzQixtQkFBbUIsb0NBQW9DO0FBQ3ZELEtBQUs7QUFDTDtBQUNPO0FBQ1Asa0NBQWtDLCtEQUFrQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLDBFQUE2QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtQ0FBbUMsMEJBQTBCLHFCQUFxQixRQUFRO0FBQzFGO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDBFQUEwRSx3Q0FBd0M7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Eb2N1bWVudHMvR2l0aHViL3NvbG9wcm8vc29sb3Byby9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0Q29va2llc0luTWlkZGxld2FyZSwgZ2V0UmVzcG9uc2VDb29raWVzLCB9IGZyb20gXCIuL2Nvb2tpZXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBqc29uUmVzcG9uc2UoYm9keSkge1xuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGJvZHkpLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBdXRoQ29va2llcyhyZXNwb25zZSwgdG9rZW5zLCBjb29raWVDb25maWcpIHtcbiAgICBjb25zdCByZXNwb25zZUNvb2tpZXMgPSBhd2FpdCBnZXRSZXNwb25zZUNvb2tpZXMocmVzcG9uc2UsIGNvb2tpZUNvbmZpZyk7XG4gICAgaWYgKHRva2VucyA9PT0gbnVsbCkge1xuICAgICAgICByZXNwb25zZUNvb2tpZXMudG9rZW4gPSBudWxsO1xuICAgICAgICByZXNwb25zZUNvb2tpZXMucmVmcmVzaFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3BvbnNlQ29va2llcy50b2tlbiA9IHRva2Vucy50b2tlbjtcbiAgICAgICAgcmVzcG9uc2VDb29raWVzLnJlZnJlc2hUb2tlbiA9IHRva2Vucy5yZWZyZXNoVG9rZW47XG4gICAgfVxuICAgIHJlc3BvbnNlQ29va2llcy52ZXJpZmllciA9IG51bGw7XG59XG4vKipcbiAqIEZvcndhcmQgb24gYW55IGF1dGggY29va2llcyBpbiB0aGUgcmVxdWVzdCB0byB0aGUgbmV4dCBoYW5kbGVyLlxuICpcbiAqIEBwYXJhbSByZXF1ZXN0XG4gKiBAcGFyYW0gdG9rZW5zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRBdXRoQ29va2llc0luTWlkZGxld2FyZShyZXF1ZXN0LCB0b2tlbnMpIHtcbiAgICBjb25zdCByZXF1ZXN0Q29va2llcyA9IGF3YWl0IGdldFJlcXVlc3RDb29raWVzSW5NaWRkbGV3YXJlKHJlcXVlc3QpO1xuICAgIGlmICh0b2tlbnMgPT09IG51bGwpIHtcbiAgICAgICAgcmVxdWVzdENvb2tpZXMudG9rZW4gPSBudWxsO1xuICAgICAgICByZXF1ZXN0Q29va2llcy5yZWZyZXNoVG9rZW4gPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVxdWVzdENvb2tpZXMudG9rZW4gPSB0b2tlbnMudG9rZW47XG4gICAgICAgIHJlcXVlc3RDb29raWVzLnJlZnJlc2hUb2tlbiA9IHRva2Vucy5yZWZyZXNoVG9rZW47XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29yc1JlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJPcmlnaW5cIik7XG4gICAgY29uc3Qgb3JpZ2luVVJMID0gb3JpZ2luID8gbmV3IFVSTChvcmlnaW4pIDogbnVsbDtcbiAgICByZXR1cm4gKG9yaWdpblVSTCAhPT0gbnVsbCAmJlxuICAgICAgICAob3JpZ2luVVJMLmhvc3QgIT09IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJIb3N0XCIpIHx8XG4gICAgICAgICAgICBvcmlnaW5VUkwucHJvdG9jb2wgIT09IG5ldyBVUkwocmVxdWVzdC51cmwpLnByb3RvY29sKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9nVmVyYm9zZShtZXNzYWdlLCB2ZXJib3NlKSB7XG4gICAgaWYgKHZlcmJvc2UpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhgW3ZlcmJvc2VdICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSBbQ29udmV4QXV0aE5leHRqc10gJHttZXNzYWdlfWApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWRhY3RlZE1lc3NhZ2UodmFsdWUpIHtcbiAgICBjb25zdCBsZW5ndGggPSA1O1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPCBsZW5ndGggKiAyKSB7XG4gICAgICAgIHJldHVybiBcIjxyZWRhY3RlZD5cIjtcbiAgICB9XG4gICAgcmV0dXJuICh2YWx1ZS5zdWJzdHJpbmcoMCwgbGVuZ3RoKSArXG4gICAgICAgIFwiPHJlZGFjdGVkPlwiICtcbiAgICAgICAgdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmxlbmd0aCAtIGxlbmd0aCkpO1xufVxuLyoqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIGEgc3Vic2V0IG9mIENvbnZleEF1dGhOZXh0anNNaWRkbGV3YXJlT3B0aW9uc1xuICogQHJldHVybnMgTmV4dGpzT3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udmV4TmV4dGpzT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgLy8gSWYgYGNvbnZleFVybGAgaXMgcHJvdmlkZWQgKGV2ZW4gaWYgaXQncyB1bmRlZmluZWQpLCBwYXNzIGl0IGFzIHRoZSBgdXJsYCBvcHRpb24uXG4gICAgLy8gYGNvbnZleC9uZXh0anNgIGhhcyBpdHMgb3duIGxvZ2ljIGZvciBmYWxsaW5nIGJhY2sgdG8gYHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NPTlZFWF9VUkxgXG4gICAgLy8gYW5kIHByb3RlY3RpbmcgYWdhaW5zdCBhY2NpZGVudGFsbHkgcGFzc2luZyBpbiBgdW5kZWZpbmVkYCAoZS5nLiB7IGNvbnZleFVybDogcHJvY2Vzcy5lbnYuVkFSX0lfRElETlRfU0VUIH0pXG4gICAgaWYgKE9iamVjdC5oYXNPd24ob3B0aW9ucywgXCJjb252ZXhVcmxcIikpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogb3B0aW9ucy5jb252ZXhVcmwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/nextjs/server/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@convex-dev/auth/dist/server/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/server/utils.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isLocalHost: () => (/* binding */ isLocalHost),\n/* harmony export */   requireEnv: () => (/* binding */ requireEnv)\n/* harmony export */ });\nfunction requireEnv(name) {\n    const value = process.env[name];\n    if (value === undefined) {\n        throw new Error(`Missing environment variable \\`${name}\\``);\n    }\n    return value;\n}\nfunction isLocalHost(host) {\n    return /(localhost|127\\.0\\.0\\.1):\\d+/.test(host ?? \"\");\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L3NlcnZlci91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBLDBEQUEwRCxLQUFLO0FBQy9EO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL0RvY3VtZW50cy9HaXRodWIvc29sb3Byby9zb2xvcHJvL25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3Qvc2VydmVyL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXF1aXJlRW52KG5hbWUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHByb2Nlc3MuZW52W25hbWVdO1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZSBcXGAke25hbWV9XFxgYCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2FsSG9zdChob3N0KSB7XG4gICAgcmV0dXJuIC8obG9jYWxob3N0fDEyN1xcLjBcXC4wXFwuMSk6XFxkKy8udGVzdChob3N0ID8/IFwiXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@convex-dev/auth/dist/server/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthNextjsClientProvider: () => (/* binding */ ConvexAuthNextjsClientProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../react/client.js */ \"(ssr)/./node_modules/@convex-dev/auth/dist/react/client.js\");\n/* harmony import */ var _server_invalidateCache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./server/invalidateCache.js */ \"(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js\");\n/* __next_internal_client_entry_do_not_use__ ConvexAuthNextjsClientProvider auto */ \n\n\n\nfunction ConvexAuthNextjsClientProvider({ apiRoute, serverState, storage, storageNamespace, verbose, children }) {\n    const call = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ConvexAuthNextjsClientProvider.useCallback[call]\": async (action, args)=>{\n            const params = {\n                action,\n                args\n            };\n            const response = await fetch(apiRoute ?? \"/api/auth\", {\n                body: JSON.stringify(params),\n                method: \"POST\"\n            });\n            return await response.json();\n        }\n    }[\"ConvexAuthNextjsClientProvider.useCallback[call]\"], [\n        apiRoute\n    ]);\n    const authClient = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ConvexAuthNextjsClientProvider.useMemo[authClient]\": ()=>({\n                authenticatedCall: call,\n                unauthenticatedCall: call,\n                verbose\n            })\n    }[\"ConvexAuthNextjsClientProvider.useMemo[authClient]\"], [\n        call,\n        verbose\n    ]);\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_client_js__WEBPACK_IMPORTED_MODULE_2__.AuthProvider, {\n        client: authClient,\n        serverState: serverState,\n        onChange: _server_invalidateCache_js__WEBPACK_IMPORTED_MODULE_3__.invalidateCache,\n        storage: // Handle SSR, Client, etc.\n        // Pretend we always have storage, the component checks\n        // it in first useEffect.\n         true ? undefined : 0,\n        storageNamespace: storageNamespace ?? requireEnv(\"https://sleek-swordfish-420.convex.cloud\", \"NEXT_PUBLIC_CONVEX_URL\"),\n        replaceURL: // Not used, since the redirect is handled by the Next.js server.\n        (url)=>{\n            window.history.replaceState({}, \"\", url);\n        },\n        children: children\n    });\n}\nfunction requireEnv(value, name) {\n    if (value === undefined) {\n        throw new Error(`Missing environment variable \\`${name}\\``);\n    }\n    return value;\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRXdEO0FBQ047QUFFWTtBQUV4RCxTQUFVLDhCQUE4QixDQUFDLEVBQzdDLFFBQVEsRUFDUixXQUFXLEVBQ1gsT0FBTyxFQUNQLGdCQUFnQixFQUNoQixPQUFPLEVBQ1AsUUFBUSxFQVFUO0lBQ0MsTUFBTSxJQUFJLEdBQW9DLGtEQUFXOzREQUN2RCxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ3JCLE1BQU0sTUFBTSxHQUFHO2dCQUFFLE1BQU07Z0JBQUUsSUFBSTtZQUFBLENBQUUsQ0FBQztZQUNoQyxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxRQUFRLElBQUksV0FBVyxFQUFFO2dCQUNwRCxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7Z0JBQzVCLE1BQU0sRUFBRSxNQUFNO2FBQ2YsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxNQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvQixDQUFDOzJEQUNEO1FBQUMsUUFBUTtLQUFDLENBQ1gsQ0FBQztJQUNGLE1BQU0sVUFBVSxHQUFHLDhDQUFPOzhEQUN4QixHQUFHLEVBQUUsQ0FBQztnQkFDSixpQkFBaUIsRUFBRSxJQUFJO2dCQUN2QixtQkFBbUIsRUFBRSxJQUFJO2dCQUN6QixPQUFPO2NBQ1I7NkRBQ0Q7UUFBQyxJQUFJO1FBQUUsT0FBTztLQUFDLENBQ2hCLENBQUM7SUFDRixPQUFPLHVEQUNKLDBEQUFZO1FBQ1gsTUFBTSxFQUFFLFVBQVU7UUFDbEIsV0FBVyxFQUFFLFdBQVc7UUFDeEIsUUFBUSxFQUFFLHVFQUFlO1FBQ3pCLE9BQU8sRUFDTCwyQkFBMkI7UUFDM0IsdURBQXVEO1FBQ3ZELHlCQUF5QjtRQUN4QixLQUE2QixHQUMxQixTQUFTLEdBQ1QsQ0FFcUIsQ0FBRTtRQUU3QixnQkFBZ0IsRUFDZCxnQkFBZ0IsSUFDaEIsVUFBVSxDQUFDLDBDQUFrQyxFQUFFLHdCQUF3QixDQUFDO1FBRTFFLFVBQVUsRUFDUixpRUFBaUU7UUFDakUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNOLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDM0MsQ0FBQztRQUFBLFVBR0YsUUFBUTtJQUFBLEVBQ0ksQ0FDaEI7QUFDSCxDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsS0FBeUIsRUFBRSxJQUFZO0lBQ3pELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLE1BQU0sSUFBSSxLQUFLLENBQUMsa0NBQWtDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Eb2N1bWVudHMvR2l0aHViL3NyYy9uZXh0anMvY2xpZW50LnRzeCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthNextjsProvider: () => (/* binding */ ConvexAuthNextjsProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convex/react */ \"(ssr)/./node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../react/client.js */ \"(ssr)/./node_modules/@convex-dev/auth/dist/react/client.js\");\n/* __next_internal_client_entry_do_not_use__ ConvexAuthNextjsProvider auto */ \n\n\n/**\n * Replace your `ConvexProvider` in a Client Component with this component\n * to enable authentication in your Next.js app.\n *\n * ```tsx\n * \"use client\";\n *\n * import { ConvexAuthNextjsProvider } from \"@convex-dev/auth/nextjs\";\n * import { ConvexReactClient } from \"convex/react\";\n * import { ReactNode } from \"react\";\n *\n * const convex = new ConvexReactClient(process.env.NEXT_PUBLIC_CONVEX_URL!);\n *\n * export default function ConvexClientProvider({\n *   children,\n * }: {\n *   children: ReactNode;\n * }) {\n *   return (\n *     <ConvexAuthNextjsProvider client={convex}>\n *       {children}\n *     </ConvexAuthNextjsProvider>\n *   );\n * }\n * ```\n */ function ConvexAuthNextjsProvider(props) {\n    const { client, children } = props;\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(convex_react__WEBPACK_IMPORTED_MODULE_1__.ConvexProviderWithAuth, {\n        client: client,\n        useAuth: _react_client_js__WEBPACK_IMPORTED_MODULE_2__.useAuth,\n        children: children\n    });\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUV5RTtBQUU1QjtBQUU3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXlCRyxDQUNHLFNBQVUsd0JBQXdCLENBQUMsS0FVeEM7SUFDQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLEtBQUssQ0FBQztJQUNuQyxPQUFPLHVEQUNKLGdFQUFzQjtRQUFDLE1BQU0sRUFBRSxNQUFNO1FBQUUsT0FBTyxFQUFFLHFEQUFPO1FBQUEsVUFDckQsUUFBUTtJQUFBLEVBQ2MsQ0FDMUI7QUFDSCxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL0RvY3VtZW50cy9HaXRodWIvc3JjL25leHRqcy9pbmRleC50c3giXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invalidateCache: () => (/* binding */ invalidateCache)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* __next_internal_action_entry_do_not_use__ {\"0051894c644856f719454f42f6786a3f936a00910a\":\"invalidateCache\"} */ \nvar invalidateCache = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"0051894c644856f719454f42f6786a3f936a00910a\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"invalidateCache\");\n //# sourceMappingURL=invalidateCache.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L25leHRqcy9zZXJ2ZXIvaW52YWxpZGF0ZUNhY2hlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztJQUlzQixlQUFlIiwic291cmNlcyI6WyIvVXNlcnMvbWF0dGhld3NpbW9uL0RvY3VtZW50cy9zcmMvbmV4dGpzL3NlcnZlci9pbnZhbGlkYXRlQ2FjaGUudHMiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@convex-dev/auth/dist/nextjs/server/invalidateCache.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@convex-dev/auth/dist/react/client.js":
/*!************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/react/client.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   ConvexAuthActionsContext: () => (/* binding */ ConvexAuthActionsContext),\n/* harmony export */   ConvexAuthTokenContext: () => (/* binding */ ConvexAuthTokenContext),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var is_network_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! is-network-error */ \"(ssr)/./node_modules/is-network-error/index.js\");\n\n\n\n// Retry after this much time, based on the retry number.\nconst RETRY_BACKOFF = [500, 2000]; // In ms\nconst RETRY_JITTER = 100; // In ms\nconst ConvexAuthActionsContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst ConvexAuthInternalContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useAuth() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexAuthInternalContext);\n}\nconst ConvexAuthTokenContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nconst VERIFIER_STORAGE_KEY = \"__convexAuthOAuthVerifier\";\nconst JWT_STORAGE_KEY = \"__convexAuthJWT\";\nconst REFRESH_TOKEN_STORAGE_KEY = \"__convexAuthRefreshToken\";\nconst SERVER_STATE_FETCH_TIME_STORAGE_KEY = \"__convexAuthServerStateFetchTime\";\nfunction AuthProvider({ client, serverState, onChange, storage, storageNamespace, replaceURL, children, }) {\n    const token = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(serverState?._state.token ?? null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(token.current === null);\n    const [tokenState, setTokenState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(token.current);\n    const verbose = client.verbose ?? false;\n    const logVerbose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message) => {\n        if (verbose) {\n            console.debug(`${new Date().toISOString()} ${message}`);\n            client.logger?.logVerbose(message);\n        }\n    }, [verbose]);\n    const { storageSet, storageGet, storageRemove, storageKey } = useNamespacedStorage(storage, storageNamespace);\n    const [isRefreshingToken, setIsRefreshingToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const setToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (args) => {\n        const wasAuthenticated = token.current !== null;\n        let newToken;\n        if (args.tokens === null) {\n            token.current = null;\n            if (args.shouldStore) {\n                await storageRemove(JWT_STORAGE_KEY);\n                await storageRemove(REFRESH_TOKEN_STORAGE_KEY);\n            }\n            newToken = null;\n        }\n        else {\n            const { token: value } = args.tokens;\n            token.current = value;\n            if (args.shouldStore) {\n                const { refreshToken } = args.tokens;\n                await storageSet(JWT_STORAGE_KEY, value);\n                await storageSet(REFRESH_TOKEN_STORAGE_KEY, refreshToken);\n            }\n            newToken = value;\n        }\n        if (wasAuthenticated !== (newToken !== null)) {\n            await onChange?.();\n        }\n        setTokenState(newToken);\n        setIsLoading(false);\n    }, [storageSet, storageRemove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const listener = async (e) => {\n            if (isRefreshingToken) {\n                // There are 3 different ways to trigger this pop up so just try all of\n                // them.\n                e.preventDefault();\n                // This confirmation message doesn't actually appear in most modern\n                // browsers but we tried.\n                const confirmationMessage = \"Are you sure you want to leave? Your changes may not be saved.\";\n                e.returnValue = true;\n                return confirmationMessage;\n            }\n        };\n        browserAddEventListener(\"beforeunload\", listener);\n        return () => {\n            browserRemoveEventListener(\"beforeunload\", listener);\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // We're listening for:\n        // 1. sibling tabs in case of localStorage\n        // 2. other frames in case of sessionStorage\n        const listener = (event) => {\n            void (async () => {\n                // TODO: Test this if statement works in iframes correctly\n                if (event.storageArea !== storage) {\n                    return;\n                }\n                // Another tab/frame set the access token, use it\n                if (event.key === storageKey(JWT_STORAGE_KEY)) {\n                    const value = event.newValue;\n                    logVerbose(`synced access token, is null: ${value === null}`);\n                    // We don't write into storage since the event came from there and\n                    // we'd trigger a loop, plus we get each key as a separate event so\n                    // we don't have the refresh key here.\n                    await setToken({\n                        shouldStore: false,\n                        tokens: value === null ? null : { token: value },\n                    });\n                }\n            })();\n        };\n        browserAddEventListener(\"storage\", listener);\n        return () => browserRemoveEventListener(\"storage\", listener);\n    }, [setToken]);\n    const verifyCode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (args) => {\n        let lastError;\n        // Retry the call if it fails due to a network error.\n        // This is especially common in mobile apps where an app is backgrounded\n        // while making a call and hits a network error, but will succeed with a\n        // retry once the app is brought to the foreground.\n        let retry = 0;\n        while (retry < RETRY_BACKOFF.length) {\n            try {\n                return await client.unauthenticatedCall(\"auth:signIn\", \"code\" in args\n                    ? { params: { code: args.code }, verifier: args.verifier }\n                    : args);\n            }\n            catch (e) {\n                lastError = e;\n                if (!(0,is_network_error__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e)) {\n                    break;\n                }\n                const wait = RETRY_BACKOFF[retry] + RETRY_JITTER * Math.random();\n                retry++;\n                logVerbose(`verifyCode failed with network error, retry ${retry} of ${RETRY_BACKOFF.length} in ${wait}ms`);\n                await new Promise((resolve) => setTimeout(resolve, wait));\n            }\n        }\n        throw lastError;\n    }, [client]);\n    const verifyCodeAndSetToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (args) => {\n        const { tokens } = await verifyCode(args);\n        logVerbose(`retrieved tokens, is null: ${tokens === null}`);\n        await setToken({ shouldStore: true, tokens: tokens ?? null });\n        return tokens !== null;\n    }, [client, setToken]);\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (provider, args) => {\n        const params = args instanceof FormData\n            ? Array.from(args.entries()).reduce((acc, [key, value]) => {\n                acc[key] = value;\n                return acc;\n            }, {})\n            : args ?? {};\n        const verifier = (await storageGet(VERIFIER_STORAGE_KEY)) ?? undefined;\n        await storageRemove(VERIFIER_STORAGE_KEY);\n        const result = await client.authenticatedCall(\"auth:signIn\", { provider, params, verifier });\n        if (result.redirect !== undefined) {\n            const url = new URL(result.redirect);\n            await storageSet(VERIFIER_STORAGE_KEY, result.verifier);\n            // Do not redirect in React Native\n            if (window.location !== undefined) {\n                window.location.href = url.toString();\n            }\n            return { signingIn: false, redirect: url };\n        }\n        else if (result.tokens !== undefined) {\n            const { tokens } = result;\n            logVerbose(`signed in and got tokens, is null: ${tokens === null}`);\n            await setToken({ shouldStore: true, tokens });\n            return { signingIn: result.tokens !== null };\n        }\n        return { signingIn: false };\n    }, [client, setToken, storageGet]);\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            await client.authenticatedCall(\"auth:signOut\");\n        }\n        catch (error) {\n            // Ignore any errors, they are usually caused by being\n            // already signed out, which is ok.\n        }\n        logVerbose(`signed out, erasing tokens`);\n        await setToken({ shouldStore: true, tokens: null });\n    }, [setToken, client]);\n    const fetchAccessToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ({ forceRefreshToken }) => {\n        if (forceRefreshToken) {\n            const tokenBeforeLockAquisition = token.current;\n            return await browserMutex(REFRESH_TOKEN_STORAGE_KEY, async () => {\n                const tokenAfterLockAquisition = token.current;\n                // Another tab or frame just refreshed the token, we can use it\n                // and skip another refresh.\n                if (tokenAfterLockAquisition !== tokenBeforeLockAquisition) {\n                    logVerbose(`returning synced token, is null: ${tokenAfterLockAquisition === null}`);\n                    return tokenAfterLockAquisition;\n                }\n                const refreshToken = (await storageGet(REFRESH_TOKEN_STORAGE_KEY)) ?? null;\n                if (refreshToken !== null) {\n                    setIsRefreshingToken(true);\n                    await verifyCodeAndSetToken({ refreshToken }).finally(() => {\n                        setIsRefreshingToken(false);\n                    });\n                    logVerbose(`returning retrieved token, is null: ${tokenAfterLockAquisition === null}`);\n                    return token.current;\n                }\n                else {\n                    setIsRefreshingToken(false);\n                    logVerbose(`returning null, there is no refresh token`);\n                    return null;\n                }\n            });\n        }\n        return token.current;\n    }, [verifyCodeAndSetToken, signOut, storageGet]);\n    const signingInWithCodeFromURL = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // Has to happen in useEffect to avoid SSR.\n        if (storage === undefined) {\n            throw new Error(\"`localStorage` is not available in this environment, \" +\n                \"set the `storage` prop on `ConvexAuthProvider`!\");\n        }\n        const readStateFromStorage = async () => {\n            const token = (await storageGet(JWT_STORAGE_KEY)) ?? null;\n            logVerbose(`retrieved token from storage, is null: ${token === null}`);\n            await setToken({\n                shouldStore: false,\n                tokens: token === null ? null : { token },\n            });\n        };\n        if (serverState !== undefined) {\n            // First check that this isn't a subsequent render\n            // with stale serverState.\n            const timeFetched = storageGet(SERVER_STATE_FETCH_TIME_STORAGE_KEY);\n            const setTokensFromServerState = (timeFetched) => {\n                if (!timeFetched || serverState._timeFetched > +timeFetched) {\n                    const { token, refreshToken } = serverState._state;\n                    const tokens = token === null || refreshToken === null\n                        ? null\n                        : { token, refreshToken };\n                    void storageSet(SERVER_STATE_FETCH_TIME_STORAGE_KEY, serverState._timeFetched.toString());\n                    void setToken({ tokens, shouldStore: true });\n                }\n                else {\n                    void readStateFromStorage();\n                }\n            };\n            // We want to avoid async if possible.\n            if (timeFetched instanceof Promise) {\n                void timeFetched.then(setTokensFromServerState);\n            }\n            else {\n                setTokensFromServerState(timeFetched);\n            }\n            return;\n        }\n        const code = typeof window?.location !== \"undefined\"\n            ? new URLSearchParams(window.location.search).get(\"code\")\n            : null;\n        // code from URL is only consumed initially,\n        // ref avoids racing in Strict mode\n        if (signingInWithCodeFromURL.current || code) {\n            if (code && !signingInWithCodeFromURL.current) {\n                signingInWithCodeFromURL.current = true;\n                const url = new URL(window.location.href);\n                url.searchParams.delete(\"code\");\n                void (async () => {\n                    await replaceURL(url.pathname + url.search + url.hash);\n                    await signIn(undefined, { code });\n                    signingInWithCodeFromURL.current = false;\n                })();\n            }\n        }\n        else {\n            void readStateFromStorage();\n        }\n    }, \n    // Explicitly chosen dependencies.\n    // This effect should mostly only run once\n    // on mount.\n    [client, storageGet]);\n    const actions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ signIn, signOut }), [signIn, signOut]);\n    const isAuthenticated = tokenState !== null;\n    const authState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({\n        isLoading,\n        isAuthenticated,\n        fetchAccessToken,\n    }), [fetchAccessToken, isLoading, isAuthenticated]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthInternalContext.Provider, { value: authState, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthActionsContext.Provider, { value: actions, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthTokenContext.Provider, { value: tokenState, children: children }) }) }));\n}\nfunction useNamespacedStorage(peristentStorage, namespace) {\n    const inMemoryStorage = useInMemoryStorage();\n    const storage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => peristentStorage ?? inMemoryStorage(), [peristentStorage]);\n    const escapedNamespace = namespace.replace(/[^a-zA-Z0-9]/g, \"\");\n    const storageKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => `${key}_${escapedNamespace}`, [namespace]);\n    const storageSet = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key, value) => storage.setItem(storageKey(key), value), [storage, storageKey]);\n    const storageGet = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => storage.getItem(storageKey(key)), [storage, storageKey]);\n    const storageRemove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => storage.removeItem(storageKey(key)), [storage, storageKey]);\n    return { storageSet, storageGet, storageRemove, storageKey };\n}\nfunction useInMemoryStorage() {\n    const [inMemoryStorage, setInMemoryStorage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    return () => ({\n        getItem: (key) => inMemoryStorage[key],\n        setItem: (key, value) => {\n            setInMemoryStorage((prev) => ({ ...prev, [key]: value }));\n        },\n        removeItem: (key) => {\n            setInMemoryStorage((prev) => {\n                const { [key]: _, ...rest } = prev;\n                return rest;\n            });\n        },\n    });\n}\n// In the browser, executes the callback as the only tab / frame at a time.\nasync function browserMutex(key, callback) {\n    const lockManager = window?.navigator?.locks;\n    return lockManager !== undefined\n        ? await lockManager.request(key, callback)\n        : await manualMutex(key, callback);\n}\nfunction getMutexValue(key) {\n    if (globalThis.__convexAuthMutexes === undefined) {\n        globalThis.__convexAuthMutexes = {};\n    }\n    let mutex = globalThis.__convexAuthMutexes[key];\n    if (mutex === undefined) {\n        globalThis.__convexAuthMutexes[key] = {\n            currentlyRunning: null,\n            waiting: [],\n        };\n    }\n    mutex = globalThis.__convexAuthMutexes[key];\n    return mutex;\n}\nfunction setMutexValue(key, value) {\n    globalThis.__convexAuthMutexes[key] = value;\n}\nasync function enqueueCallbackForMutex(key, callback) {\n    const mutex = getMutexValue(key);\n    if (mutex.currentlyRunning === null) {\n        setMutexValue(key, {\n            currentlyRunning: callback().finally(() => {\n                const nextCb = getMutexValue(key).waiting.shift();\n                getMutexValue(key).currentlyRunning = null;\n                setMutexValue(key, {\n                    ...getMutexValue(key),\n                    currentlyRunning: nextCb === undefined ? null : enqueueCallbackForMutex(key, nextCb),\n                });\n            }),\n            waiting: [],\n        });\n    }\n    else {\n        setMutexValue(key, {\n            ...mutex,\n            waiting: [...mutex.waiting, callback],\n        });\n    }\n}\nasync function manualMutex(key, callback) {\n    const outerPromise = new Promise((resolve, reject) => {\n        const wrappedCallback = () => {\n            return callback()\n                .then((v) => resolve(v))\n                .catch((e) => reject(e));\n        };\n        void enqueueCallbackForMutex(key, wrappedCallback);\n    });\n    return outerPromise;\n}\nfunction browserAddEventListener(type, listener, options) {\n    window.addEventListener?.(type, listener, options);\n}\nfunction browserRemoveEventListener(type, listener, options) {\n    window.removeEventListener?.(type, listener, options);\n}\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L3JlYWN0L2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWdEO0FBQ3NEO0FBQ3hEO0FBQzlDO0FBQ0EsbUNBQW1DO0FBQ25DLDBCQUEwQjtBQUNuQixpQ0FBaUMsb0RBQWE7QUFDckQsa0NBQWtDLG9EQUFhO0FBQ3hDO0FBQ1AsV0FBVyxpREFBVTtBQUNyQjtBQUNPLCtCQUErQixvREFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixpRkFBaUY7QUFDaEgsa0JBQWtCLDZDQUFNO0FBQ3hCLHNDQUFzQywrQ0FBUTtBQUM5Qyx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQSx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQSw2QkFBNkIsMEJBQTBCLEVBQUUsUUFBUTtBQUNqRTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksb0RBQW9EO0FBQ2hFLHNEQUFzRCwrQ0FBUTtBQUM5RCxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxlQUFlO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsY0FBYztBQUN4RSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixrREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVSxpQkFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNERBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsT0FBTyxLQUFLLHNCQUFzQixLQUFLLEtBQUs7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0NBQWtDLGtEQUFXO0FBQzdDLGdCQUFnQixTQUFTO0FBQ3pCLGlEQUFpRCxnQkFBZ0I7QUFDakUseUJBQXlCLDJDQUEyQztBQUNwRTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLDRCQUE0QjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0IsNkRBQTZELGdCQUFnQjtBQUM3RSw2QkFBNkIsMkJBQTJCO0FBQ3hELHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQixLQUFLO0FBQ0wsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUNBQWlDO0FBQzFELEtBQUs7QUFDTCw2QkFBNkIsa0RBQVcsVUFBVSxtQkFBbUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0NBQWtDO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsY0FBYztBQUNoRTtBQUNBLHFCQUFxQjtBQUNyQixzRUFBc0Usa0NBQWtDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUNBQXFDLDZDQUFNO0FBQzNDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxlQUFlO0FBQ2hGO0FBQ0E7QUFDQSxrREFBa0QsT0FBTztBQUN6RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQSxvQ0FBb0MsMkJBQTJCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsTUFBTTtBQUNwRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPLFVBQVUsaUJBQWlCO0FBQ3REO0FBQ0Esc0JBQXNCLDhDQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLHNEQUFJLHVDQUF1Qyw0QkFBNEIsc0RBQUksc0NBQXNDLDBCQUEwQixzREFBSSxvQ0FBb0MsdUNBQXVDLEdBQUcsR0FBRztBQUM1TztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOENBQU87QUFDM0I7QUFDQSx1QkFBdUIsa0RBQVcsYUFBYSxJQUFJLEdBQUcsaUJBQWlCO0FBQ3ZFLHVCQUF1QixrREFBVztBQUNsQyx1QkFBdUIsa0RBQVc7QUFDbEMsMEJBQTBCLGtEQUFXO0FBQ3JDLGFBQWE7QUFDYjtBQUNBO0FBQ0Esa0RBQWtELCtDQUFRLEdBQUc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHVCQUF1QjtBQUNuRSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL21hdHRoZXdzaW1vbi9Eb2N1bWVudHMvR2l0aHViL3NvbG9wcm8vc29sb3Byby9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L3JlYWN0L2NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBpc05ldHdvcmtFcnJvciBmcm9tIFwiaXMtbmV0d29yay1lcnJvclwiO1xuLy8gUmV0cnkgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUsIGJhc2VkIG9uIHRoZSByZXRyeSBudW1iZXIuXG5jb25zdCBSRVRSWV9CQUNLT0ZGID0gWzUwMCwgMjAwMF07IC8vIEluIG1zXG5jb25zdCBSRVRSWV9KSVRURVIgPSAxMDA7IC8vIEluIG1zXG5leHBvcnQgY29uc3QgQ29udmV4QXV0aEFjdGlvbnNDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuY29uc3QgQ29udmV4QXV0aEludGVybmFsQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdXRoKCkge1xuICAgIHJldHVybiB1c2VDb250ZXh0KENvbnZleEF1dGhJbnRlcm5hbENvbnRleHQpO1xufVxuZXhwb3J0IGNvbnN0IENvbnZleEF1dGhUb2tlbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgVkVSSUZJRVJfU1RPUkFHRV9LRVkgPSBcIl9fY29udmV4QXV0aE9BdXRoVmVyaWZpZXJcIjtcbmNvbnN0IEpXVF9TVE9SQUdFX0tFWSA9IFwiX19jb252ZXhBdXRoSldUXCI7XG5jb25zdCBSRUZSRVNIX1RPS0VOX1NUT1JBR0VfS0VZID0gXCJfX2NvbnZleEF1dGhSZWZyZXNoVG9rZW5cIjtcbmNvbnN0IFNFUlZFUl9TVEFURV9GRVRDSF9USU1FX1NUT1JBR0VfS0VZID0gXCJfX2NvbnZleEF1dGhTZXJ2ZXJTdGF0ZUZldGNoVGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNsaWVudCwgc2VydmVyU3RhdGUsIG9uQ2hhbmdlLCBzdG9yYWdlLCBzdG9yYWdlTmFtZXNwYWNlLCByZXBsYWNlVVJMLCBjaGlsZHJlbiwgfSkge1xuICAgIGNvbnN0IHRva2VuID0gdXNlUmVmKHNlcnZlclN0YXRlPy5fc3RhdGUudG9rZW4gPz8gbnVsbCk7XG4gICAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRva2VuLmN1cnJlbnQgPT09IG51bGwpO1xuICAgIGNvbnN0IFt0b2tlblN0YXRlLCBzZXRUb2tlblN0YXRlXSA9IHVzZVN0YXRlKHRva2VuLmN1cnJlbnQpO1xuICAgIGNvbnN0IHZlcmJvc2UgPSBjbGllbnQudmVyYm9zZSA/PyBmYWxzZTtcbiAgICBjb25zdCBsb2dWZXJib3NlID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKHZlcmJvc2UpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoYCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAke21lc3NhZ2V9YCk7XG4gICAgICAgICAgICBjbGllbnQubG9nZ2VyPy5sb2dWZXJib3NlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgW3ZlcmJvc2VdKTtcbiAgICBjb25zdCB7IHN0b3JhZ2VTZXQsIHN0b3JhZ2VHZXQsIHN0b3JhZ2VSZW1vdmUsIHN0b3JhZ2VLZXkgfSA9IHVzZU5hbWVzcGFjZWRTdG9yYWdlKHN0b3JhZ2UsIHN0b3JhZ2VOYW1lc3BhY2UpO1xuICAgIGNvbnN0IFtpc1JlZnJlc2hpbmdUb2tlbiwgc2V0SXNSZWZyZXNoaW5nVG9rZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHNldFRva2VuID0gdXNlQ2FsbGJhY2soYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgY29uc3Qgd2FzQXV0aGVudGljYXRlZCA9IHRva2VuLmN1cnJlbnQgIT09IG51bGw7XG4gICAgICAgIGxldCBuZXdUb2tlbjtcbiAgICAgICAgaWYgKGFyZ3MudG9rZW5zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChhcmdzLnNob3VsZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc3RvcmFnZVJlbW92ZShKV1RfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2VSZW1vdmUoUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdUb2tlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IHRva2VuOiB2YWx1ZSB9ID0gYXJncy50b2tlbnM7XG4gICAgICAgICAgICB0b2tlbi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoYXJncy5zaG91bGRTdG9yZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVmcmVzaFRva2VuIH0gPSBhcmdzLnRva2VucztcbiAgICAgICAgICAgICAgICBhd2FpdCBzdG9yYWdlU2V0KEpXVF9TVE9SQUdFX0tFWSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2VTZXQoUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSwgcmVmcmVzaFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1Rva2VuID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc0F1dGhlbnRpY2F0ZWQgIT09IChuZXdUb2tlbiAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGF3YWl0IG9uQ2hhbmdlPy4oKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUb2tlblN0YXRlKG5ld1Rva2VuKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9LCBbc3RvcmFnZVNldCwgc3RvcmFnZVJlbW92ZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlZnJlc2hpbmdUb2tlbikge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSAzIGRpZmZlcmVudCB3YXlzIHRvIHRyaWdnZXIgdGhpcyBwb3AgdXAgc28ganVzdCB0cnkgYWxsIG9mXG4gICAgICAgICAgICAgICAgLy8gdGhlbS5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb25maXJtYXRpb24gbWVzc2FnZSBkb2Vzbid0IGFjdHVhbGx5IGFwcGVhciBpbiBtb3N0IG1vZGVyblxuICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJzIGJ1dCB3ZSB0cmllZC5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25NZXNzYWdlID0gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmU/IFlvdXIgY2hhbmdlcyBtYXkgbm90IGJlIHNhdmVkLlwiO1xuICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25NZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBicm93c2VyQWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBicm93c2VyUmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gV2UncmUgbGlzdGVuaW5nIGZvcjpcbiAgICAgICAgLy8gMS4gc2libGluZyB0YWJzIGluIGNhc2Ugb2YgbG9jYWxTdG9yYWdlXG4gICAgICAgIC8vIDIuIG90aGVyIGZyYW1lcyBpbiBjYXNlIG9mIHNlc3Npb25TdG9yYWdlXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGVzdCB0aGlzIGlmIHN0YXRlbWVudCB3b3JrcyBpbiBpZnJhbWVzIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zdG9yYWdlQXJlYSAhPT0gc3RvcmFnZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFub3RoZXIgdGFiL2ZyYW1lIHNldCB0aGUgYWNjZXNzIHRva2VuLCB1c2UgaXRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBzdG9yYWdlS2V5KEpXVF9TVE9SQUdFX0tFWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC5uZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbG9nVmVyYm9zZShgc3luY2VkIGFjY2VzcyB0b2tlbiwgaXMgbnVsbDogJHt2YWx1ZSA9PT0gbnVsbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd3JpdGUgaW50byBzdG9yYWdlIHNpbmNlIHRoZSBldmVudCBjYW1lIGZyb20gdGhlcmUgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ2QgdHJpZ2dlciBhIGxvb3AsIHBsdXMgd2UgZ2V0IGVhY2gga2V5IGFzIGEgc2VwYXJhdGUgZXZlbnQgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSB0aGUgcmVmcmVzaCBrZXkgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0VG9rZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU3RvcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiB7IHRva2VuOiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgICAgICBicm93c2VyQWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4gYnJvd3NlclJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGxpc3RlbmVyKTtcbiAgICB9LCBbc2V0VG9rZW5dKTtcbiAgICBjb25zdCB2ZXJpZnlDb2RlID0gdXNlQ2FsbGJhY2soYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgbGV0IGxhc3RFcnJvcjtcbiAgICAgICAgLy8gUmV0cnkgdGhlIGNhbGwgaWYgaXQgZmFpbHMgZHVlIHRvIGEgbmV0d29yayBlcnJvci5cbiAgICAgICAgLy8gVGhpcyBpcyBlc3BlY2lhbGx5IGNvbW1vbiBpbiBtb2JpbGUgYXBwcyB3aGVyZSBhbiBhcHAgaXMgYmFja2dyb3VuZGVkXG4gICAgICAgIC8vIHdoaWxlIG1ha2luZyBhIGNhbGwgYW5kIGhpdHMgYSBuZXR3b3JrIGVycm9yLCBidXQgd2lsbCBzdWNjZWVkIHdpdGggYVxuICAgICAgICAvLyByZXRyeSBvbmNlIHRoZSBhcHAgaXMgYnJvdWdodCB0byB0aGUgZm9yZWdyb3VuZC5cbiAgICAgICAgbGV0IHJldHJ5ID0gMDtcbiAgICAgICAgd2hpbGUgKHJldHJ5IDwgUkVUUllfQkFDS09GRi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGNsaWVudC51bmF1dGhlbnRpY2F0ZWRDYWxsKFwiYXV0aDpzaWduSW5cIiwgXCJjb2RlXCIgaW4gYXJnc1xuICAgICAgICAgICAgICAgICAgICA/IHsgcGFyYW1zOiB7IGNvZGU6IGFyZ3MuY29kZSB9LCB2ZXJpZmllcjogYXJncy52ZXJpZmllciB9XG4gICAgICAgICAgICAgICAgICAgIDogYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05ldHdvcmtFcnJvcihlKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FpdCA9IFJFVFJZX0JBQ0tPRkZbcmV0cnldICsgUkVUUllfSklUVEVSICogTWF0aC5yYW5kb20oKTtcbiAgICAgICAgICAgICAgICByZXRyeSsrO1xuICAgICAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYHZlcmlmeUNvZGUgZmFpbGVkIHdpdGggbmV0d29yayBlcnJvciwgcmV0cnkgJHtyZXRyeX0gb2YgJHtSRVRSWV9CQUNLT0ZGLmxlbmd0aH0gaW4gJHt3YWl0fW1zYCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgd2FpdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IGxhc3RFcnJvcjtcbiAgICB9LCBbY2xpZW50XSk7XG4gICAgY29uc3QgdmVyaWZ5Q29kZUFuZFNldFRva2VuID0gdXNlQ2FsbGJhY2soYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgeyB0b2tlbnMgfSA9IGF3YWl0IHZlcmlmeUNvZGUoYXJncyk7XG4gICAgICAgIGxvZ1ZlcmJvc2UoYHJldHJpZXZlZCB0b2tlbnMsIGlzIG51bGw6ICR7dG9rZW5zID09PSBudWxsfWApO1xuICAgICAgICBhd2FpdCBzZXRUb2tlbih7IHNob3VsZFN0b3JlOiB0cnVlLCB0b2tlbnM6IHRva2VucyA/PyBudWxsIH0pO1xuICAgICAgICByZXR1cm4gdG9rZW5zICE9PSBudWxsO1xuICAgIH0sIFtjbGllbnQsIHNldFRva2VuXSk7XG4gICAgY29uc3Qgc2lnbkluID0gdXNlQ2FsbGJhY2soYXN5bmMgKHByb3ZpZGVyLCBhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGFyZ3MgaW5zdGFuY2VvZiBGb3JtRGF0YVxuICAgICAgICAgICAgPyBBcnJheS5mcm9tKGFyZ3MuZW50cmllcygpKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pXG4gICAgICAgICAgICA6IGFyZ3MgPz8ge307XG4gICAgICAgIGNvbnN0IHZlcmlmaWVyID0gKGF3YWl0IHN0b3JhZ2VHZXQoVkVSSUZJRVJfU1RPUkFHRV9LRVkpKSA/PyB1bmRlZmluZWQ7XG4gICAgICAgIGF3YWl0IHN0b3JhZ2VSZW1vdmUoVkVSSUZJRVJfU1RPUkFHRV9LRVkpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjbGllbnQuYXV0aGVudGljYXRlZENhbGwoXCJhdXRoOnNpZ25JblwiLCB7IHByb3ZpZGVyLCBwYXJhbXMsIHZlcmlmaWVyIH0pO1xuICAgICAgICBpZiAocmVzdWx0LnJlZGlyZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVzdWx0LnJlZGlyZWN0KTtcbiAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2VTZXQoVkVSSUZJRVJfU1RPUkFHRV9LRVksIHJlc3VsdC52ZXJpZmllcik7XG4gICAgICAgICAgICAvLyBEbyBub3QgcmVkaXJlY3QgaW4gUmVhY3QgTmF0aXZlXG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc2lnbmluZ0luOiBmYWxzZSwgcmVkaXJlY3Q6IHVybCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdC50b2tlbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgeyB0b2tlbnMgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYHNpZ25lZCBpbiBhbmQgZ290IHRva2VucywgaXMgbnVsbDogJHt0b2tlbnMgPT09IG51bGx9YCk7XG4gICAgICAgICAgICBhd2FpdCBzZXRUb2tlbih7IHNob3VsZFN0b3JlOiB0cnVlLCB0b2tlbnMgfSk7XG4gICAgICAgICAgICByZXR1cm4geyBzaWduaW5nSW46IHJlc3VsdC50b2tlbnMgIT09IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzaWduaW5nSW46IGZhbHNlIH07XG4gICAgfSwgW2NsaWVudCwgc2V0VG9rZW4sIHN0b3JhZ2VHZXRdKTtcbiAgICBjb25zdCBzaWduT3V0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY2xpZW50LmF1dGhlbnRpY2F0ZWRDYWxsKFwiYXV0aDpzaWduT3V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWdub3JlIGFueSBlcnJvcnMsIHRoZXkgYXJlIHVzdWFsbHkgY2F1c2VkIGJ5IGJlaW5nXG4gICAgICAgICAgICAvLyBhbHJlYWR5IHNpZ25lZCBvdXQsIHdoaWNoIGlzIG9rLlxuICAgICAgICB9XG4gICAgICAgIGxvZ1ZlcmJvc2UoYHNpZ25lZCBvdXQsIGVyYXNpbmcgdG9rZW5zYCk7XG4gICAgICAgIGF3YWl0IHNldFRva2VuKHsgc2hvdWxkU3RvcmU6IHRydWUsIHRva2VuczogbnVsbCB9KTtcbiAgICB9LCBbc2V0VG9rZW4sIGNsaWVudF0pO1xuICAgIGNvbnN0IGZldGNoQWNjZXNzVG9rZW4gPSB1c2VDYWxsYmFjayhhc3luYyAoeyBmb3JjZVJlZnJlc2hUb2tlbiB9KSA9PiB7XG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5CZWZvcmVMb2NrQXF1aXNpdGlvbiA9IHRva2VuLmN1cnJlbnQ7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgYnJvd3Nlck11dGV4KFJFRlJFU0hfVE9LRU5fU1RPUkFHRV9LRVksIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkFmdGVyTG9ja0FxdWlzaXRpb24gPSB0b2tlbi5jdXJyZW50O1xuICAgICAgICAgICAgICAgIC8vIEFub3RoZXIgdGFiIG9yIGZyYW1lIGp1c3QgcmVmcmVzaGVkIHRoZSB0b2tlbiwgd2UgY2FuIHVzZSBpdFxuICAgICAgICAgICAgICAgIC8vIGFuZCBza2lwIGFub3RoZXIgcmVmcmVzaC5cbiAgICAgICAgICAgICAgICBpZiAodG9rZW5BZnRlckxvY2tBcXVpc2l0aW9uICE9PSB0b2tlbkJlZm9yZUxvY2tBcXVpc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYHJldHVybmluZyBzeW5jZWQgdG9rZW4sIGlzIG51bGw6ICR7dG9rZW5BZnRlckxvY2tBcXVpc2l0aW9uID09PSBudWxsfWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5BZnRlckxvY2tBcXVpc2l0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSAoYXdhaXQgc3RvcmFnZUdldChSRUZSRVNIX1RPS0VOX1NUT1JBR0VfS0VZKSkgPz8gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVmcmVzaFRva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzUmVmcmVzaGluZ1Rva2VuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB2ZXJpZnlDb2RlQW5kU2V0VG9rZW4oeyByZWZyZXNoVG9rZW4gfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1JlZnJlc2hpbmdUb2tlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsb2dWZXJib3NlKGByZXR1cm5pbmcgcmV0cmlldmVkIHRva2VuLCBpcyBudWxsOiAke3Rva2VuQWZ0ZXJMb2NrQXF1aXNpdGlvbiA9PT0gbnVsbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1JlZnJlc2hpbmdUb2tlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYHJldHVybmluZyBudWxsLCB0aGVyZSBpcyBubyByZWZyZXNoIHRva2VuYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbi5jdXJyZW50O1xuICAgIH0sIFt2ZXJpZnlDb2RlQW5kU2V0VG9rZW4sIHNpZ25PdXQsIHN0b3JhZ2VHZXRdKTtcbiAgICBjb25zdCBzaWduaW5nSW5XaXRoQ29kZUZyb21VUkwgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIEhhcyB0byBoYXBwZW4gaW4gdXNlRWZmZWN0IHRvIGF2b2lkIFNTUi5cbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYGxvY2FsU3RvcmFnZWAgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LCBcIiArXG4gICAgICAgICAgICAgICAgXCJzZXQgdGhlIGBzdG9yYWdlYCBwcm9wIG9uIGBDb252ZXhBdXRoUHJvdmlkZXJgIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWFkU3RhdGVGcm9tU3RvcmFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gKGF3YWl0IHN0b3JhZ2VHZXQoSldUX1NUT1JBR0VfS0VZKSkgPz8gbnVsbDtcbiAgICAgICAgICAgIGxvZ1ZlcmJvc2UoYHJldHJpZXZlZCB0b2tlbiBmcm9tIHN0b3JhZ2UsIGlzIG51bGw6ICR7dG9rZW4gPT09IG51bGx9YCk7XG4gICAgICAgICAgICBhd2FpdCBzZXRUb2tlbih7XG4gICAgICAgICAgICAgICAgc2hvdWxkU3RvcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRva2VuczogdG9rZW4gPT09IG51bGwgPyBudWxsIDogeyB0b2tlbiB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzZXJ2ZXJTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayB0aGF0IHRoaXMgaXNuJ3QgYSBzdWJzZXF1ZW50IHJlbmRlclxuICAgICAgICAgICAgLy8gd2l0aCBzdGFsZSBzZXJ2ZXJTdGF0ZS5cbiAgICAgICAgICAgIGNvbnN0IHRpbWVGZXRjaGVkID0gc3RvcmFnZUdldChTRVJWRVJfU1RBVEVfRkVUQ0hfVElNRV9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICBjb25zdCBzZXRUb2tlbnNGcm9tU2VydmVyU3RhdGUgPSAodGltZUZldGNoZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbWVGZXRjaGVkIHx8IHNlcnZlclN0YXRlLl90aW1lRmV0Y2hlZCA+ICt0aW1lRmV0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRva2VuLCByZWZyZXNoVG9rZW4gfSA9IHNlcnZlclN0YXRlLl9zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gdG9rZW4gPT09IG51bGwgfHwgcmVmcmVzaFRva2VuID09PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDogeyB0b2tlbiwgcmVmcmVzaFRva2VuIH07XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgc3RvcmFnZVNldChTRVJWRVJfU1RBVEVfRkVUQ0hfVElNRV9TVE9SQUdFX0tFWSwgc2VydmVyU3RhdGUuX3RpbWVGZXRjaGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHNldFRva2VuKHsgdG9rZW5zLCBzaG91bGRTdG9yZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgcmVhZFN0YXRlRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBhdm9pZCBhc3luYyBpZiBwb3NzaWJsZS5cbiAgICAgICAgICAgIGlmICh0aW1lRmV0Y2hlZCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHRpbWVGZXRjaGVkLnRoZW4oc2V0VG9rZW5zRnJvbVNlcnZlclN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRva2Vuc0Zyb21TZXJ2ZXJTdGF0ZSh0aW1lRmV0Y2hlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZSA9IHR5cGVvZiB3aW5kb3c/LmxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCkuZ2V0KFwiY29kZVwiKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAvLyBjb2RlIGZyb20gVVJMIGlzIG9ubHkgY29uc3VtZWQgaW5pdGlhbGx5LFxuICAgICAgICAvLyByZWYgYXZvaWRzIHJhY2luZyBpbiBTdHJpY3QgbW9kZVxuICAgICAgICBpZiAoc2lnbmluZ0luV2l0aENvZGVGcm9tVVJMLmN1cnJlbnQgfHwgY29kZSkge1xuICAgICAgICAgICAgaWYgKGNvZGUgJiYgIXNpZ25pbmdJbldpdGhDb2RlRnJvbVVSTC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2lnbmluZ0luV2l0aENvZGVGcm9tVVJMLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiY29kZVwiKTtcbiAgICAgICAgICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlcGxhY2VVUkwodXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2lnbkluKHVuZGVmaW5lZCwgeyBjb2RlIH0pO1xuICAgICAgICAgICAgICAgICAgICBzaWduaW5nSW5XaXRoQ29kZUZyb21VUkwuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2b2lkIHJlYWRTdGF0ZUZyb21TdG9yYWdlKCk7XG4gICAgICAgIH1cbiAgICB9LCBcbiAgICAvLyBFeHBsaWNpdGx5IGNob3NlbiBkZXBlbmRlbmNpZXMuXG4gICAgLy8gVGhpcyBlZmZlY3Qgc2hvdWxkIG1vc3RseSBvbmx5IHJ1biBvbmNlXG4gICAgLy8gb24gbW91bnQuXG4gICAgW2NsaWVudCwgc3RvcmFnZUdldF0pO1xuICAgIGNvbnN0IGFjdGlvbnMgPSB1c2VNZW1vKCgpID0+ICh7IHNpZ25Jbiwgc2lnbk91dCB9KSwgW3NpZ25Jbiwgc2lnbk91dF0pO1xuICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IHRva2VuU3RhdGUgIT09IG51bGw7XG4gICAgY29uc3QgYXV0aFN0YXRlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICAgICAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgICB9KSwgW2ZldGNoQWNjZXNzVG9rZW4sIGlzTG9hZGluZywgaXNBdXRoZW50aWNhdGVkXSk7XG4gICAgcmV0dXJuIChfanN4KENvbnZleEF1dGhJbnRlcm5hbENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGF1dGhTdGF0ZSwgY2hpbGRyZW46IF9qc3goQ29udmV4QXV0aEFjdGlvbnNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBhY3Rpb25zLCBjaGlsZHJlbjogX2pzeChDb252ZXhBdXRoVG9rZW5Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB0b2tlblN0YXRlLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkgfSkpO1xufVxuZnVuY3Rpb24gdXNlTmFtZXNwYWNlZFN0b3JhZ2UocGVyaXN0ZW50U3RvcmFnZSwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgaW5NZW1vcnlTdG9yYWdlID0gdXNlSW5NZW1vcnlTdG9yYWdlKCk7XG4gICAgY29uc3Qgc3RvcmFnZSA9IHVzZU1lbW8oKCkgPT4gcGVyaXN0ZW50U3RvcmFnZSA/PyBpbk1lbW9yeVN0b3JhZ2UoKSwgW3BlcmlzdGVudFN0b3JhZ2VdKTtcbiAgICBjb25zdCBlc2NhcGVkTmFtZXNwYWNlID0gbmFtZXNwYWNlLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCBcIlwiKTtcbiAgICBjb25zdCBzdG9yYWdlS2V5ID0gdXNlQ2FsbGJhY2soKGtleSkgPT4gYCR7a2V5fV8ke2VzY2FwZWROYW1lc3BhY2V9YCwgW25hbWVzcGFjZV0pO1xuICAgIGNvbnN0IHN0b3JhZ2VTZXQgPSB1c2VDYWxsYmFjaygoa2V5LCB2YWx1ZSkgPT4gc3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXkoa2V5KSwgdmFsdWUpLCBbc3RvcmFnZSwgc3RvcmFnZUtleV0pO1xuICAgIGNvbnN0IHN0b3JhZ2VHZXQgPSB1c2VDYWxsYmFjaygoa2V5KSA9PiBzdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleShrZXkpKSwgW3N0b3JhZ2UsIHN0b3JhZ2VLZXldKTtcbiAgICBjb25zdCBzdG9yYWdlUmVtb3ZlID0gdXNlQ2FsbGJhY2soKGtleSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKHN0b3JhZ2VLZXkoa2V5KSksIFtzdG9yYWdlLCBzdG9yYWdlS2V5XSk7XG4gICAgcmV0dXJuIHsgc3RvcmFnZVNldCwgc3RvcmFnZUdldCwgc3RvcmFnZVJlbW92ZSwgc3RvcmFnZUtleSB9O1xufVxuZnVuY3Rpb24gdXNlSW5NZW1vcnlTdG9yYWdlKCkge1xuICAgIGNvbnN0IFtpbk1lbW9yeVN0b3JhZ2UsIHNldEluTWVtb3J5U3RvcmFnZV0gPSB1c2VTdGF0ZSh7fSk7XG4gICAgcmV0dXJuICgpID0+ICh7XG4gICAgICAgIGdldEl0ZW06IChrZXkpID0+IGluTWVtb3J5U3RvcmFnZVtrZXldLFxuICAgICAgICBzZXRJdGVtOiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0SW5NZW1vcnlTdG9yYWdlKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBba2V5XTogdmFsdWUgfSkpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVJdGVtOiAoa2V5KSA9PiB7XG4gICAgICAgICAgICBzZXRJbk1lbW9yeVN0b3JhZ2UoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFtrZXldOiBfLCAuLi5yZXN0IH0gPSBwcmV2O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vLyBJbiB0aGUgYnJvd3NlciwgZXhlY3V0ZXMgdGhlIGNhbGxiYWNrIGFzIHRoZSBvbmx5IHRhYiAvIGZyYW1lIGF0IGEgdGltZS5cbmFzeW5jIGZ1bmN0aW9uIGJyb3dzZXJNdXRleChrZXksIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbG9ja01hbmFnZXIgPSB3aW5kb3c/Lm5hdmlnYXRvcj8ubG9ja3M7XG4gICAgcmV0dXJuIGxvY2tNYW5hZ2VyICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhd2FpdCBsb2NrTWFuYWdlci5yZXF1ZXN0KGtleSwgY2FsbGJhY2spXG4gICAgICAgIDogYXdhaXQgbWFudWFsTXV0ZXgoa2V5LCBjYWxsYmFjayk7XG59XG5mdW5jdGlvbiBnZXRNdXRleFZhbHVlKGtleSkge1xuICAgIGlmIChnbG9iYWxUaGlzLl9fY29udmV4QXV0aE11dGV4ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBnbG9iYWxUaGlzLl9fY29udmV4QXV0aE11dGV4ZXMgPSB7fTtcbiAgICB9XG4gICAgbGV0IG11dGV4ID0gZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzW2tleV07XG4gICAgaWYgKG11dGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzW2tleV0gPSB7XG4gICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nOiBudWxsLFxuICAgICAgICAgICAgd2FpdGluZzogW10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIG11dGV4ID0gZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzW2tleV07XG4gICAgcmV0dXJuIG11dGV4O1xufVxuZnVuY3Rpb24gc2V0TXV0ZXhWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzW2tleV0gPSB2YWx1ZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGVucXVldWVDYWxsYmFja0Zvck11dGV4KGtleSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBtdXRleCA9IGdldE11dGV4VmFsdWUoa2V5KTtcbiAgICBpZiAobXV0ZXguY3VycmVudGx5UnVubmluZyA9PT0gbnVsbCkge1xuICAgICAgICBzZXRNdXRleFZhbHVlKGtleSwge1xuICAgICAgICAgICAgY3VycmVudGx5UnVubmluZzogY2FsbGJhY2soKS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2IgPSBnZXRNdXRleFZhbHVlKGtleSkud2FpdGluZy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGdldE11dGV4VmFsdWUoa2V5KS5jdXJyZW50bHlSdW5uaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzZXRNdXRleFZhbHVlKGtleSwge1xuICAgICAgICAgICAgICAgICAgICAuLi5nZXRNdXRleFZhbHVlKGtleSksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmc6IG5leHRDYiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGVucXVldWVDYWxsYmFja0Zvck11dGV4KGtleSwgbmV4dENiKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgd2FpdGluZzogW10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0TXV0ZXhWYWx1ZShrZXksIHtcbiAgICAgICAgICAgIC4uLm11dGV4LFxuICAgICAgICAgICAgd2FpdGluZzogWy4uLm11dGV4LndhaXRpbmcsIGNhbGxiYWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gbWFudWFsTXV0ZXgoa2V5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG91dGVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAudGhlbigodikgPT4gcmVzb2x2ZSh2KSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHJlamVjdChlKSk7XG4gICAgICAgIH07XG4gICAgICAgIHZvaWQgZW5xdWV1ZUNhbGxiYWNrRm9yTXV0ZXgoa2V5LCB3cmFwcGVkQ2FsbGJhY2spO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXRlclByb21pc2U7XG59XG5mdW5jdGlvbiBicm93c2VyQWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyPy4odHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gYnJvd3NlclJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcj8uKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@convex-dev/auth/dist/react/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@convex-dev/auth/dist/react/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/react/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthProvider: () => (/* binding */ ConvexAuthProvider),\n/* harmony export */   useAuthActions: () => (/* binding */ useAuthActions),\n/* harmony export */   useAuthToken: () => (/* binding */ useAuthToken)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var convex_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convex/browser */ \"(ssr)/./node_modules/convex/dist/esm/browser/index-node.js\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! convex/react */ \"(ssr)/./node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/@convex-dev/auth/dist/react/client.js\");\n/**\n * React bindings for Convex Auth.\n *\n * @module\n */ /* __next_internal_client_entry_do_not_use__ useAuthActions,ConvexAuthProvider,useAuthToken auto */ \n\n\n\n\n/**\n * Use this hook to access the `signIn` and `signOut` methods:\n *\n * ```ts\n * import { useAuthActions } from \"@convex-dev/auth/react\";\n *\n * function SomeComponent() {\n *   const { signIn, signOut } = useAuthActions();\n *   // ...\n * }\n * ```\n */ function useAuthActions() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_client_js__WEBPACK_IMPORTED_MODULE_4__.ConvexAuthActionsContext);\n}\n/**\n * Replace your `ConvexProvider` with this component to enable authentication.\n *\n * ```tsx\n * import { ConvexAuthProvider } from \"@convex-dev/auth/react\";\n * import { ConvexReactClient } from \"convex/react\";\n * import { ReactNode } from \"react\";\n *\n * const convex = new ConvexReactClient(/* ... *\\/);\n *\n * function RootComponent({ children }: { children: ReactNode }) {\n *   return <ConvexAuthProvider client={convex}>{children}</ConvexAuthProvider>;\n * }\n * ```\n */ function ConvexAuthProvider(props) {\n    const { client, storage, storageNamespace, replaceURL, children } = props;\n    const authClient = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"ConvexAuthProvider.useMemo[authClient]\": ()=>({\n                authenticatedCall (action, args) {\n                    return client.action(action, args);\n                },\n                unauthenticatedCall (action, args) {\n                    return new convex_browser__WEBPACK_IMPORTED_MODULE_1__.ConvexHttpClient(client.address, {\n                        logger: client.logger\n                    }).action(action, args);\n                },\n                verbose: client.options?.verbose,\n                logger: client.logger\n            })\n    }[\"ConvexAuthProvider.useMemo[authClient]\"], [\n        client\n    ]);\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_client_js__WEBPACK_IMPORTED_MODULE_4__.AuthProvider, {\n        client: authClient,\n        storage: storage ?? // Handle SSR, RN, Web, etc.\n        // Pretend we always have storage, the component checks\n        // it in first useEffect.\n        ( true ? undefined : 0),\n        storageNamespace: storageNamespace ?? client.address,\n        replaceURL: replaceURL ?? ((url)=>{\n            window.history.replaceState({}, \"\", url);\n        }),\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(convex_react__WEBPACK_IMPORTED_MODULE_2__.ConvexProviderWithAuth, {\n            client: client,\n            useAuth: _client_js__WEBPACK_IMPORTED_MODULE_4__.useAuth,\n            children: children\n        })\n    });\n}\n/**\n * Use this hook to access the JWT token on the client, for authenticating\n * your Convex HTTP actions.\n *\n * You should not pass this token to other servers (think of it\n * as an \"ID token\").\n *\n * ```ts\n * import { useAuthToken } from \"@convex-dev/auth/react\";\n *\n * function SomeComponent() {\n *   const token = useAuthToken();\n *   const onClick = async () => {\n *     await fetch(`${CONVEX_SITE_URL}/someEndpoint`, {\n *       headers: {\n *         Authorization: `Bearer ${token}`,\n *       },\n *     });\n *   };\n *   // ...\n * }\n * ```\n */ function useAuthToken() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_client_js__WEBPACK_IMPORTED_MODULE_4__.ConvexAuthTokenContext);\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvbnZleC1kZXYvYXV0aC9kaXN0L3JlYWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7R0FJRztBQUkrQztBQUN1QjtBQUVsQjtBQU1sQztBQUdyQjs7Ozs7Ozs7Ozs7R0FXRyxDQUNHLFNBQVUsY0FBYztJQUM1QixPQUFPLGlEQUFVLENBQUMsZ0VBQXdCLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7Ozs7O0dBY0csQ0FDRyxTQUFVLGtCQUFrQixDQUFDLEtBMENsQztJQUNDLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDMUUsTUFBTSxVQUFVLEdBQUcsOENBQU87a0RBQ3hCLEdBQUcsRUFBRSxDQUNIO2dCQUNFLGlCQUFpQixFQUFDLE1BQU0sRUFBRSxJQUFJO29CQUM1QixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNyQyxDQUFDO2dCQUNELG1CQUFtQixFQUFDLE1BQU0sRUFBRSxJQUFJO29CQUM5QixPQUFPLElBQUksNERBQWdCLENBQUUsTUFBYyxDQUFDLE9BQU8sRUFBRTt3QkFDbkQsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNO3FCQUN0QixDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDMUIsQ0FBQztnQkFDRCxPQUFPLEVBQUcsTUFBYyxDQUFDLE9BQU8sRUFBRSxPQUFPO2dCQUN6QyxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU07Y0FDdEI7aURBQ0g7UUFBQyxNQUFNO0tBQUMsQ0FDVCxDQUFDO0lBQ0YsT0FBTyx1REFDSixvREFBWTtRQUNYLE1BQU0sRUFBRSxVQUFVO1FBQ2xCLE9BQU8sRUFDTCxPQUFPLElBQ1AsNEJBQTRCO1FBQzVCLHVEQUF1RDtRQUN2RCx5QkFBeUI7U0FDeEIsS0FBNkIsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFRLENBQVksQ0FBRTtRQUVyRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsSUFBSyxNQUFjLENBQUMsT0FBTztRQUM3RCxVQUFVLEVBQ1IsVUFBVSxLQUNULENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDUCxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzNDLENBQUMsQ0FBQztRQUFBLFVBR0osdURBQUMsZ0VBQXNCO1lBQUMsTUFBTSxFQUFFLE1BQU07WUFBRSxPQUFPLEVBQUUsK0NBQU87WUFBQSxVQUNyRCxRQUFRO1FBQUEsRUFDYztJQUFBLEVBQ1osQ0FDaEI7QUFDSCxDQUFDO0FBMEdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBc0JHLENBQ0csU0FBVSxZQUFZO0lBQzFCLE9BQU8saURBQVUsQ0FBQyw4REFBc0IsQ0FBQyxDQUFDO0FBQzVDLENBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXR0aGV3c2ltb24vRG9jdW1lbnRzL0dpdGh1Yi9zcmMvcmVhY3QvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@convex-dev/auth/dist/react/index.js\n");

/***/ })

};
;